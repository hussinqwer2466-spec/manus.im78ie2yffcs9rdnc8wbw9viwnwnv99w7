(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70085],{67725:(e,t,r)=>{"use strict";r.d(t,{WQ:()=>no,ls:()=>ns,Ts:()=>na,cL:()=>nu,do:()=>nc,u4:()=>nl});var n,i,o,s,a,u,c,l,f,d,h,p,v,g=r(13516);!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(n||(n={}));var y=function(e){return function(){var t=(0,g.Cl)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},m=function(e,t){var r,n;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var i=(0,g.Ju)(t.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(s in e))return;e=e[s]}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},b=function(e,t){return function(){var r,n,i={};try{for(var o=(0,g.Ju)(t),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=m(e,a)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}},w=function(e,t,r,i,o){return void 0===o&&(o=null),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=r(),c=u.logger,l=u.logLevel;if(l&&l<n.Debug||!l||!c)return e.apply(o,s);var f={type:"invoke public method",name:t,args:s,stacktrace:(Error().stack||"").split("\n").slice(3).map(function(e){return e.trim()}),time:{start:new Date().toISOString()},states:{}};i&&f.states&&(f.states.before=i());var d=e.apply(o,s);return d&&d.promise?d.promise.then(function(){i&&f.states&&(f.states.after=i()),f.time&&(f.time.end=new Date().toISOString()),c.debug(JSON.stringify(f,null,2))}):(i&&f.states&&(f.states.after=i()),f.time&&(f.time.end=new Date().toISOString()),c.debug(JSON.stringify(f,null,2))),d}},S=function(e){return{promise:e||Promise.resolve()}},E=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0},_=function(){var e,t=E();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var r=t.split("=",2),n=I(r[0]),i=I(r[1]);return i&&(e[n]=i),e},{}):{}},I=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},T=r(11685),A=function(e){return void 0===e&&(e="$default_instance"),T.i.getInstance(e)},k=function(e,t){A(t).identityStore.editIdentity().setUserId(e).commit()},x=function(e,t){A(t).identityStore.editIdentity().setDeviceId(e).commit()};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(i||(i={}));var C=r(45498),O=function(e,t){var r=Math.max(t,1);return e.reduce(function(e,t,n){var i=Math.floor(n/r);return e[i]||(e[i]=[]),e[i].push(t),e},[])},P=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=i.Unknown),{event:e,code:t,message:r}},N="Amplitude Logger ",R=function(){function e(){this.logLevel=n.None}return e.prototype.disable=function(){this.logLevel=n.None},e.prototype.enable=function(e){void 0===e&&(e=n.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.Verbose||console.log("".concat(N,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.Warn||console.warn("".concat(N,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.Error||console.error("".concat(N,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.Debug||console.log("".concat(N,"[Debug]: ").concat(e.join(" ")))},e}(),U=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:n.Warn,loggerProvider:new R,offline:!1,optOut:!1,serverUrl:C.mJ,serverZone:"US",useBatch:!1}},L=function(){function e(e){this._optOut=!1;var t,r,n,i,o=U();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(r=e.logLevel)&&void 0!==r?r:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(n=e.optOut)&&void 0!==n?n:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var s=M(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),M=function(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=U().serverZone),void 0===r&&(r=U().useBatch),e)return{serverUrl:e,serverZone:void 0};var n,i=["US","EU"].includes(t)?t:U().serverZone;return{serverZone:i,serverUrl:(n=r,"EU"===i?n?C.OP:C.bu:n?C.pL:C.mJ)}},H=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}(),D=(0,g.fX)([],(0,g.zs)(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),F=function(e){var t,r=E();if(!(null===(t=null==r?void 0:r.crypto)||void 0===t?void 0:t.getRandomValues))return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,F);var n=r.crypto.getRandomValues(new Uint8Array(16));return n[6]=15&n[6]|64,n[8]=63&n[8]|128,(0,g.fX)([],(0,g.zs)(n.entries()),!1).map(function(e){var t=(0,g.zs)(e,2),r=t[0],n=t[1];return[4,6,8,10].includes(r)?"-".concat(D[n]):D[n]}).join("")};function j(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var V=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return e.prototype.setup=function(e){var t;return(0,g.sH)(this,void 0,void 0,function(){var r,n=this;return(0,g.YH)(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(C.fS,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(r=i.sent())&&r.length>0&&Promise.all(r.map(function(e){return n.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=F()),new Promise(function(r){t.queue.push({event:e,attempts:0,callback:function(e){return r(e)},timeout:0}),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(e){return e.attempts+=1,e.attempts<t.config.flushMaxRetries||(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)})},e.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(e){t.schedule(0===e.timeout?t.config.flushIntervalMillis:e.timeout)})},e.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(null===this.scheduleId||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(e){return e.timeout=0,e}),t.flush(!0)},e);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,g.sH)(this,void 0,void 0,function(){var t,r,n=this;return(0,g.YH)(this,function(i){switch(i.label){case 0:if(this.config.offline)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2];if(this.flushId)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2];return this.flushId=this.scheduleId,this.resetSchedule(),t=[],r=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):r.push(e)}),[4,O(t,this.config.flushQueueSize).reduce(function(t,r){return(0,g.sH)(n,void 0,void 0,function(){return(0,g.YH)(this,function(n){switch(n.label){case 0:return[4,t];case 1:return n.sent(),[4,this.send(r,e)];case 2:return[2,n.sent()]}})})},Promise.resolve())];case 1:return i.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,g.sH)(this,void 0,void 0,function(){var r,n,o,s;return(0,g.YH)(this,function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];r={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,g.Tt)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new H,a.label=1;case 1:return a.trys.push([1,3,,4]),n=M(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(n,r)];case 2:if(null===(o=a.sent()))return this.fulfillRequest(e,0,"Unexpected error occurred"),[2];if(!t)return"body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(j(o))):this.fulfillRequest(e,o.statusCode,o.status),[2];return this.handleResponse(o,e),[3,4];case 3:var u;return s=(u=a.sent())instanceof Error?u.message:String(u),this.config.loggerProvider.error(s),this.handleResponse({status:i.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var r=e.status;switch(r){case i.Success:this.handleSuccessResponse(e,t);break;case i.Invalid:this.handleInvalidResponse(e,t);break;case i.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case i.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(r,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var r=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key")){this.fulfillRequest(t,e.statusCode,e.body.error);return}var n=new Set((0,g.fX)((0,g.fX)((0,g.fX)((0,g.fX)([],(0,g.zs)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,g.zs)(Object.values(e.body.eventsWithMissingFields)),!1),(0,g.zs)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,g.zs)(e.body.silencedEvents),!1).flat()),i=t.filter(function(t,i){if(n.has(i)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return!0});i.length>0&&this.config.loggerProvider.warn(j(e));var o=this.removeEventsExceedFlushMaxRetries(i);this.scheduleEvents(o)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(j(e)),this.config.flushQueueSize/=2;var r=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(r)},e.prototype.handleRateLimitResponse=function(e,t){var r=this,n=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,s=new Set(n),a=new Set(i),u=new Set(o),c=t.filter(function(t,n){if(t.event.user_id&&s.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return u.has(n)&&(t.timeout=r.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(j(e));var l=this.removeEventsExceedFlushMaxRetries(c);this.scheduleEvents(l)},e.prototype.handleOtherResponse=function(e){var t=this,r=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),n=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(n)},e.prototype.fulfillRequest=function(e,t,r){this.removeEvents(e),e.forEach(function(e){return e.callback(P(e.event,t,r))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}(),q=function(){function e(){this.name="identity",this.type="before",this.identityStore=A().identityStore}return e.prototype.execute=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t;return(0,g.YH)(this,function(r){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){return e.instanceName&&(this.identityStore=A(e.instanceName).identityStore),[2]})})},e}(),B=r(47059),Y=r(83989),z=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setCurrency=function(e){return this.currency=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setReceipt=function(e){return this.receipt=e,this},e.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},e.prototype.setEventProperties=function(e){return(0,Y.a)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,g.Cl)({},this.properties):{};return e[o.REVENUE_PRODUCT_ID]=this.productId,e[o.REVENUE_QUANTITY]=this.quantity,e[o.REVENUE_PRICE]=this.price,e[o.REVENUE_TYPE]=this.revenueType,e[o.REVENUE_CURRENCY]=this.currency,e[o.REVENUE]=this.revenue,e[o.RECEIPT]=this.receipt,e[o.RECEIPT_SIG]=this.receiptSig,e},e}();!function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue",e.RECEIPT="$receipt",e.RECEIPT_SIG="$receiptSig"}(o||(o={}));var K=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e};!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(s||(s={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(a||(a={}));var $=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var r,n;return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(i){switch(i.label){case 0:if(this.plugins.some(function(t){return t.name===e.name}))return t.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2];return void 0===e.name&&(e.name=F(),t.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(e.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),e.type=null!==(r=e.type)&&void 0!==r?r:"enrichment",[4,null===(n=e.setup)||void 0===n?void 0:n.call(e,t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e,t){var r;return(0,g.sH)(this,void 0,void 0,function(){var n,i;return(0,g.YH)(this,function(o){switch(o.label){case 0:if(-1===(n=this.plugins.findIndex(function(t){return t.name===e})))return t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2];return i=this.plugins[n],this.plugins.splice(n,1),[4,null===(r=i.teardown)||void 0===r?void 0:r.call(i)];case 1:return o.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(r){t.queue.push([e,r]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,l,f,d,h,p;return(0,g.YH)(this,function(v){switch(v.label){case 0:if(!e)return[2];t=(0,g.zs)(e,1)[0],r=(0,g.zs)(e,2)[1],n=this.plugins.filter(function(e){return"before"===e.type}),v.label=1;case 1:v.trys.push([1,6,7,8]),o=(i=(0,g.Ju)(n)).next(),v.label=2;case 2:if(o.done)return[3,5];if(!(s=o.value).execute)return[3,4];return[4,s.execute((0,g.Cl)({},t))];case 3:if(null===(a=v.sent()))return r({event:t,code:0,message:""}),[2];t=a,v.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return f={error:v.sent()},[3,8];case 7:try{o&&!o.done&&(d=i.return)&&d.call(i)}finally{if(f)throw f.error}return[7];case 8:u=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),v.label=9;case 9:v.trys.push([9,14,15,16]),l=(c=(0,g.Ju)(u)).next(),v.label=10;case 10:if(l.done)return[3,13];if(!(s=l.value).execute)return[3,12];return[4,s.execute((0,g.Cl)({},t))];case 11:if(null===(a=v.sent()))return r({event:t,code:0,message:""}),[2];t=a,v.label=12;case 12:return l=c.next(),[3,10];case 13:return[3,16];case 14:return h={error:v.sent()},[3,16];case 15:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(h)throw h.error}return[7];case 16:return Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){var r=(0,g.Cl)({},t);return e.execute(r).catch(function(e){return P(r,0,String(e))})})).then(function(e){var n=(0,g.zs)(e,1)[0]||P(t,100,"Event not tracked, no destination plugins on the instance");r(n)}),[2]}})})},e.prototype.flush=function(){return(0,g.sH)(this,void 0,void 0,function(){var e,t=this;return(0,g.YH)(this,function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return r.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return r.sent(),[2]}})})},e.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onIdentityChanged)||void 0===r||r.call(t,e)})},e.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onSessionIdChanged)||void 0===r||r.call(t,e)})},e.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onOptOutChanged)||void 0===r||r.call(t,e)})},e}(),G=function(e,t){return(0,g.Cl)((0,g.Cl)({},t),{event_type:a.IDENTIFY,user_properties:e.getUserProperties()})},J=function(e,t,r,n){var i;return(0,g.Cl)((0,g.Cl)({},n),{event_type:a.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:((i={})[e]=t,i)})},Q=function(e,t,r){var n,i=new B.T$;return i.set(e,t),(0,g.Cl)((0,g.Cl)({},r),{event_type:a.IDENTIFY,user_properties:i.getUserProperties(),groups:((n={})[e]=t,n)})},W=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new $(this),this.name=e}return e.prototype._init=function(e){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t,r,n,i,o,s;return(0,g.YH)(this,function(a){switch(a.label){case 0:t=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,8,9,10]),n=(r=(0,g.Ju)(t)).next(),a.label=2;case 2:if(n.done)return[3,7];if(!((i=(0,n.value)())&&"promise"in i))return[3,4];return[4,i.promise];case 3:return a.sent(),[3,6];case 4:return[4,i];case 5:a.sent(),a.label=6;case 6:return n=r.next(),[3,2];case 7:return[3,10];case 8:return o={error:a.sent()},[3,10];case 9:try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:a.sent(),a.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,r){var n=(0,g.Cl)((0,g.Cl)((0,g.Cl)({},"string"==typeof e?{event_type:e}:e),r),t&&{event_properties:t});return S(this.dispatch(n))},e.prototype.identify=function(e,t){var r=G(e,t);return S(this.dispatch(r))},e.prototype.groupIdentify=function(e,t,r,n){var i=J(e,t,r,n);return S(this.dispatch(i))},e.prototype.setGroup=function(e,t,r){var n=Q(e,t,r);return S(this.dispatch(n))},e.prototype.revenue=function(e,t){var r=(0,g.Cl)((0,g.Cl)({},t),{event_type:a.REVENUE,event_properties:e.getEventProperties()});return S(this.dispatch(r))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),S())},e.prototype._addPlugin=function(e){return S(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),S())},e.prototype._removePlugin=function(e){return S(this.timeline.deregister(e,this.config))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(P(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t=this;return(0,g.YH)(this,function(r){return this.isReady?[2,this.process(e)]:[2,new Promise(function(r){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,r))})]})})},e.prototype.getOperationAppliedUserProperties=function(e){var t={};if(void 0===e)return t;var r={};return Object.keys(e).forEach(function(t){Object.values(s).includes(t)||(r[t]=e[t])}),B.Se.forEach(function(r){if(Object.keys(e).includes(r)){var n=e[r];switch(r){case s.CLEAR_ALL:Object.keys(t).forEach(function(e){delete t[e]});break;case s.UNSET:Object.keys(n).forEach(function(e){delete t[e]});break;case s.SET:Object.assign(t,n)}}}),Object.assign(t,r),t},e.prototype.process=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t,r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),this.config.optOut)return[2,P(e,0,"Event skipped due to optOut config")];return e.event_type===a.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)];case 1:return 200===(r=i.sent()).code?this.config.loggerProvider.log(r.message):100===r.code?this.config.loggerProvider.warn(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return n=String(i.sent()),this.config.loggerProvider.error(n),[2,r=P(e,0,n)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},e.prototype.flush=function(){return S(this.timeline.flush())},e.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(t){return t.name===e});if(void 0===t){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return t},e}(),X=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},Z=function(e){return X(e,"attribution")},ee=function(e){return X(e,"pageViews")},et=function(e){return X(e,"sessions")},er=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.elementInteractions||"object"==typeof e.elementInteractions)},en=function(e){if(er(e.autocapture)&&"object"==typeof e.autocapture&&"object"==typeof e.autocapture.elementInteractions)return e.autocapture.elementInteractions},ei=function(e){var t,r=function(){return!1},n=void 0,i=e.pageCounter;return ee(e.defaultTracking)&&(r=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:n,eventType:t,pageCounter:i}},eo=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.name,o=n.args,s=n.resolve,a=e&&e[i];if("function"==typeof a){var u=a.apply(e,o);"function"==typeof s&&s(null==u?void 0:u.promise)}}return e},es=function(e){return e&&void 0!==e._q},ea=function(){if("undefined"==typeof navigator)return"";var e,t,r,n,i=navigator.userLanguage;return null!==(n=null!==(r=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==r?r:i)&&void 0!==n?n:""},eu="2.15.0",ec=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat("amplitude-ts","/").concat(eu),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,r;return(0,g.sH)(this,void 0,void 0,function(){var n,i,o;return(0,g.YH)(this,function(s){return n=new Date().getTime(),i=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,o=null!==(r=e.event_id)&&void 0!==r?r:i+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=n),[2,(0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:ea()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:F(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent})]})})},e}(),el=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return[2,(t=r.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(r){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),ef=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=10),[C.r,t,e.substring(0,r)].filter(Boolean).join("_")},ed=function(){function e(e){this.options=(0,g.Cl)({},e)}return e.prototype.isEnabled=function(){return(0,g.sH)(this,void 0,void 0,function(){var t,r;return(0,g.YH)(this,function(n){switch(n.label){case 0:if(!E())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return n.sent(),[4,t.get(r)];case 3:return[2,n.sent()===e.testValue];case 4:return n.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return n.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,g.sH)(this,void 0,void 0,function(){var r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(r=i.sent()))return[2,void 0];try{if(n=null!==(t=eh(r))&&void 0!==t?t:ep(r),void 0===n)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0];return[2,JSON.parse(n)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(e){var t,r;return(0,g.sH)(this,void 0,void 0,function(){var n,i;return(0,g.YH)(this,function(o){return(i=(null!==(r=null===(t=null==(n=E())?void 0:n.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==r?r:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,i.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var r;return(0,g.sH)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return(0,g.YH)(this,function(l){try{n=null!==(r=this.options.expirationDays)&&void 0!==r?r:0,i=null!==t?n:-1,o=void 0,i&&((s=new Date).setTime(s.getTime()+864e5*i),o=s),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(a+="; expires=".concat(o.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),(u=E())&&(u.document.cookie=a)}catch(t){c=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]})})},e.prototype.remove=function(e){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){return[2]})})},e}(),eh=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},ep=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}},ev=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,r,n,o,s,a,u,c,l,f,d,h,p,v,g,y,m,b,w,S,E,_,I=e.code||0,T=this.buildStatus(I);switch(T){case i.Success:return{status:T,statusCode:I,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(r=e.payload_size_bytes)&&void 0!==r?r:0,serverUploadTime:null!==(n=e.server_upload_time)&&void 0!==n?n:0}};case i.Invalid:return{status:T,statusCode:I,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(a=e.events_with_invalid_fields)&&void 0!==a?a:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(c=e.events_with_invalid_id_lengths)&&void 0!==c?c:{},epsThreshold:null!==(l=e.eps_threshold)&&void 0!==l?l:0,exceededDailyQuotaDevices:null!==(f=e.exceeded_daily_quota_devices)&&void 0!==f?f:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(h=e.silenced_events)&&void 0!==h?h:[],throttledDevices:null!==(p=e.throttled_devices)&&void 0!==p?p:{},throttledEvents:null!==(v=e.throttled_events)&&void 0!==v?v:[]}};case i.PayloadTooLarge:return{status:T,statusCode:I,body:{error:null!==(g=e.error)&&void 0!==g?g:""}};case i.RateLimit:return{status:T,statusCode:I,body:{error:null!==(y=e.error)&&void 0!==y?y:"",epsThreshold:null!==(m=e.eps_threshold)&&void 0!==m?m:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(w=e.throttled_users)&&void 0!==w?w:{},exceededDailyQuotaDevices:null!==(S=e.exceeded_daily_quota_devices)&&void 0!==S?S:{},exceededDailyQuotaUsers:null!==(E=e.exceeded_daily_quota_users)&&void 0!==E?E:{},throttledEvents:null!==(_=e.throttled_events)&&void 0!==_?_:[]}};case i.Timeout:default:return{status:T,statusCode:I}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?i.Success:429===e?i.RateLimit:413===e?i.PayloadTooLarge:408===e?i.Timeout:e>=400&&e<500?i.Invalid:e>=500?i.Failed:i.Unknown},e}(),eg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,g.C6)(t,e),t.prototype.send=function(e,t){return(0,g.sH)(this,void 0,void 0,function(){var r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(r=i.sent()).text()];case 2:n=i.sent();try{return[2,this.buildResponse(JSON.parse(n))]}catch(e){return[2,this.buildResponse({code:r.status})]}return[2]}})})},t}(ev),ey=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,g.sH)(this,void 0,void 0,function(){var t,r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return i.sent(),[4,r.get(n)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,g.sH)(this,void 0,void 0,function(){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=r.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(r){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var r;return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(n){try{null===(r=this.storage)||void 0===r||r.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(r){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]})})},e}(),em=function(e){function t(t){var r,n,i,o=this;try{i=null===(r=E())||void 0===r?void 0:r.localStorage}catch(e){null===(n=null==t?void 0:t.loggerProvider)||void 0===n||n.debug("Failed to access localStorage. error=".concat(JSON.stringify(e))),i=void 0}return(o=e.call(this,i)||this).loggerProvider=null==t?void 0:t.loggerProvider,o}return(0,g.C6)(t,e),t.prototype.set=function(t,r){var n;return(0,g.sH)(this,void 0,void 0,function(){var i;return(0,g.YH)(this,function(o){switch(o.label){case 0:if(!(Array.isArray(r)&&r.length>1e3))return[3,2];return i=r.length-1e3,[4,e.prototype.set.call(this,t,r.slice(0,1e3))];case 1:return o.sent(),null===(n=this.loggerProvider)||void 0===n||n.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,r)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},t}(ey),eb=function(e){function t(){var t;return e.call(this,null===(t=E())||void 0===t?void 0:t.sessionStorage)||this}return(0,g.C6)(t,e),t}(ey),ew=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,g.C6)(t,e),t.prototype.send=function(e,t){return(0,g.sH)(this,void 0,void 0,function(){var r=this;return(0,g.YH)(this,function(n){return[2,new Promise(function(n,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===r.state.done){var e=o.responseText;try{n(r.buildResponse(JSON.parse(e)))}catch(e){n(r.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(ev),eS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,g.C6)(t,e),t.prototype.send=function(e,t){return(0,g.sH)(this,void 0,void 0,function(){var r=this;return(0,g.YH)(this,function(n){return[2,new Promise(function(n,i){var o=E();if(!(null==o?void 0:o.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(t);if(o.navigator.sendBeacon(e,JSON.stringify(t)))return n(r.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}));return n(r.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(ev),eE=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},e_=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},eI="[Amplitude]",eT="".concat(eI," Form Started"),eA="".concat(eI," Form Submitted"),ek="".concat(eI," File Downloaded"),ex="session_start",eC="session_end",eO="".concat(eI," File Extension"),eP="".concat(eI," File Name"),eN="".concat(eI," Link ID"),eR="".concat(eI," Link Text"),eU="".concat(eI," Link URL"),eL="".concat(eI," Form ID"),eM="".concat(eI," Form Name"),eH="".concat(eI," Form Destination"),eD="cookie",eF=function(e){function t(t,r,i,o,s,a,u,c,l,f,d,h,p,v,g,y,m,b,w,S,E,_,I,T,A,k,x,C,O,P,N,U,L,M){void 0===i&&(i=new el),void 0===o&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===c&&(c=1e3),void 0===l&&(l=5),void 0===f&&(f=30),void 0===d&&(d=eD),void 0===y&&(y=new R),void 0===m&&(m=n.Warn),void 0===w&&(w=!1),void 0===S&&(S=!1),void 0===I&&(I=""),void 0===T&&(T="US"),void 0===k&&(k=18e5),void 0===x&&(x=new em({loggerProvider:y})),void 0===C&&(C={ipAddress:!0,language:!0,platform:!0}),void 0===O&&(O="fetch"),void 0===P&&(P=!1),void 0===N&&(N=!0);var H=e.call(this,{apiKey:t,storageProvider:x,transportProvider:eV(O)})||this;return H.apiKey=t,H.appVersion=r,H.cookieOptions=o,H.defaultTracking=s,H.autocapture=a,H.flushIntervalMillis=c,H.flushMaxRetries=l,H.flushQueueSize=f,H.identityStorage=d,H.ingestionMetadata=h,H.instanceName=p,H.loggerProvider=y,H.logLevel=m,H.minIdLength=b,H.offline=w,H.partnerId=E,H.plan=_,H.serverUrl=I,H.serverZone=T,H.sessionTimeout=k,H.storageProvider=x,H.trackingOptions=C,H.transport=O,H.useBatch=P,H.fetchRemoteConfig=N,H.version=eu,H._optOut=!1,H._cookieStorage=i,H.deviceId=u,H.lastEventId=v,H.lastEventTime=g,H.optOut=S,H.sessionId=A,H.pageCounter=L,H.userId=U,H.debugLogsEnabled=M,H.loggerProvider.enable(M?n.Debug:H.logLevel),H}return(0,g.C6)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ef(this.apiKey),e)},t}(L),ej=function(e,t){switch(void 0===e&&(e=eD),void 0===t&&(t={}),e){case"localStorage":return new em;case"sessionStorage":return new eb;case"none":return new el;default:return new ed((0,g.Cl)((0,g.Cl)({},t),{expirationDays:t.expiration}))}},eV=function(e){return"xhr"===e?new ew:"beacon"===e?new eS:new eg},eq=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0},eB=function(){var e,t=eq();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var r=t.split("=",2),n=eY(r[0]),i=eY(r[1]);return i&&(e[n]=i),e},{}):{}},eY=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},ez="dclid",eK="fbclid",e$="gbraid",eG="gclid",eJ="ko_click_id",eQ="li_fat_id",eW="msclkid",eX="rtd_cid",eZ="ttclid",e0="twclid",e1="wbraid",e2={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},e3=function(){function e(){}return e.prototype.parse=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){return[2,(0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)({},e2),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=eB();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=null!==(t=null===(e=r.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return r},e.prototype.getClickIds=function(){var e,t=eB();return(e={})[ez]=t[ez],e[eK]=t[eK],e[e$]=t[e$],e[eG]=t[eG],e[eJ]=t[eJ],e[eQ]=t[eQ],e[eW]=t[eW],e[eX]=t[eX],e[eZ]=t[eZ],e[e0]=t[e0],e[e1]=t[e1],e},e}();!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(u||(u={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue"}(c||(c={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(l||(l={}));var e4=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t},e6=function(e){void 0===e&&(e={});var t,r,n,i=eq(),o=void 0,s=e.trackOn,a=e.trackHistoryChanges,u=e.eventType,c=void 0===u?"[Amplitude] Page Viewed":u,l=function(e){var t=e;try{t=decodeURI(e)}catch(e){null==o||o.error("Malformed URI sequence: ",e)}return t},f=function(){return(0,g.sH)(void 0,void 0,void 0,function(){var e,t,r;return(0,g.YH)(this,function(n){switch(n.label){case 0:return e=l("undefined"!=typeof location&&location.href||""),r={event_type:c},t=[{}],[4,e5()];case 1:return[2,(r.event_properties=g.Cl.apply(void 0,[g.Cl.apply(void 0,t.concat([n.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!=typeof location&&l(location.pathname)||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":e.split("?")[0]}]),r)]}})})},d=function(){return void 0===s||"function"==typeof s&&s()},h="undefined"!=typeof location?location.href:null,p=function(){return(0,g.sH)(void 0,void 0,void 0,function(){var e,r,n,i;return(0,g.YH)(this,function(s){switch(s.label){case 0:if(r=e9(a,e=location.href,h||"")&&d(),h=e,!r)return[3,4];if(null==o||o.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return i=(n=t).track,[4,f()];case 2:i.apply(n,[s.sent()]),s.label=3;case 3:s.label=4;case 4:return[2]}})})},v=function(){p()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,s){return(0,g.sH)(void 0,void 0,void 0,function(){var a,u;return(0,g.YH)(this,function(c){switch(c.label){case 0:if(t=s,n=e,(o=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",v),r=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(e,t,r){var n=(0,g.zs)(r,3),i=n[0],o=n[1],s=n[2];e.apply(t,[i,o,s]),p()}})),!d())return[3,2];return o.log("Tracking page view event"),u=(a=t).track,[4,f()];case 1:u.apply(a,[c.sent()]),c.label=2;case 2:return[2]}})})},execute:function(e){return(0,g.sH)(void 0,void 0,void 0,function(){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:if(!("attribution"===s&&e8(e)))return[3,2];return null==o||o.log("Enriching campaign event to page view event with campaign parameters"),[4,f()];case 1:t=r.sent(),e.event_type=t.event_type,e.event_properties=(0,g.Cl)((0,g.Cl)({},e.event_properties),t.event_properties),r.label=2;case 2:return n&&e.event_type===c&&(n.pageCounter=n.pageCounter?n.pageCounter+1:1,e.event_properties=(0,g.Cl)((0,g.Cl)({},e.event_properties),{"[Amplitude] Page Counter":n.pageCounter})),[2,e]}})})},teardown:function(){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(e){return i&&(i.removeEventListener("popstate",v),r&&(i.history.pushState=r)),[2]})})}}},e5=function(){return(0,g.sH)(void 0,void 0,void 0,function(){var e;return(0,g.YH)(this,function(t){switch(t.label){case 0:return e=e4,[4,new e3().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},e8=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,r=t[u.SET]||{},n=t[u.UNSET]||{},i=(0,g.fX)((0,g.fX)([],(0,g.zs)(Object.keys(r)),!1),(0,g.zs)(Object.keys(n)),!1);return Object.keys(e2).every(function(e){return i.includes(e)})}return!1},e9=function(e,t,r){if("pathOnly"===e){if(""==r)return!0;var n=new URL(t),i=new URL(r);return n.origin+n.pathname!==i.origin+i.pathname}return t!==r},e7=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},n=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,n){return(0,g.sH)(void 0,void 0,void 0,function(){var i,o;return(0,g.YH)(this,function(s){return i=function(){if(!n){t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){var t=!1;r(e,"change",function(){var r,i=tt(e);t||n.track(eT,((r={})[eL]=te(e.id),r[eM]=te(e.name),r[eH]=i,r)),t=!0}),r(e,"submit",function(){var r,i,o=tt(e);t||n.track(eT,((r={})[eL]=te(e.id),r[eM]=te(e.name),r[eH]=o,r)),n.track(eA,((i={})[eL]=te(e.id),i[eM]=te(e.name),i[eH]=o,i)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=E())?o.addEventListener("load",i):t.loggerProvider.debug("Form interaction tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(t){return null==e||e.disconnect(),n(),[2]})})}}},te=function(e){if("string"==typeof e)return e},tt=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(null!=t?t:""),window.location.href).href}catch(e){}return t},tr=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},n=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,n){return(0,g.sH)(void 0,void 0,void 0,function(){var i,o;return(0,g.YH)(this,function(s){return i=function(){if(!n){t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,i=o.exec(t.href),s=null==i?void 0:i[1];s&&r(e,"click",function(){var r;s&&n.track(ek,((r={})[eO]=s,r[eP]=t.pathname,r[eN]=e.id,r[eR]=e.text,r[eU]=e.href,r))})},o=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/;Array.from(document.getElementsByTagName("a")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=E())?o.addEventListener("load",i):t.loggerProvider.debug("File download tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(t){return null==e||e.disconnect(),n(),[2]})})}}},tn=!1,ti=function(e){tn||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),tn=!0)},to=function(){var e=E(),t=[],r=function(r,n){e&&(e.addEventListener(r,n),t.push({type:r,handler:n}))},n=function(){t.forEach(function(t){var r=t.type,n=t.handler;e&&e.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(n){return"undefined"==typeof navigator?(e.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),e.offline=!1):(e.offline=!navigator.onLine,r("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),r("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2]})})},teardown:function(){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(e){return n(),[2]})})}}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(f||(f={})),function(e){e.US="US",e.EU="EU"}(d||(d={}));var ts="Remote config fetch rejected due to timeout after 5 seconds",ta="Unexpected error occurred",tu=function(){function e(e){var t=e.localConfig,r=e.configKeys,n=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(e,t,r){return(0,g.sH)(n,void 0,void 0,function(){var n,i,o;return(0,g.YH)(this,function(s){switch(s.label){case 0:return n=Date.now(),[4,this.fetchWithTimeout(r)];case 1:if((i=s.sent())&&(o=i.configs&&i.configs[e]))return this.metrics.fetchTimeAPISuccess=Date.now()-n,[2,o[t]];return this.metrics.fetchTimeAPIFail=Date.now()-n,[2,void 0]}})})},this.fetchWithTimeout=function(e){return(0,g.sH)(n,void 0,void 0,function(){var t,r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:return t=new AbortController,r=setTimeout(function(){return t.abort()},5e3),[4,this.fetchRemoteConfig(t.signal,e)];case 1:return n=i.sent(),clearTimeout(r),[2,n]}})})},this.fetchRemoteConfig=function(e,t){return(0,g.sH)(n,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,d,h;return(0,g.YH)(this,function(p){switch(p.label){case 0:if(t===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(e.aborted)return[2,this.completeRequest({err:ts})];t!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=t,this.attempts=0),p.label=1;case 1:p.trys.push([1,3,,4]),r=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(i=(n=(0,g.Ju)(this.configKeys)).next();!i.done;i=n.next())o=i.value,r.append("config_keys",o)}catch(e){l={error:e}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(l)throw l.error}}return t&&r.set("session_id",String(t)),s={headers:{Accept:"*/*"},method:"GET"},a="".concat(this.getServerUrl(),"?").concat(r.toString()),this.attempts+=1,[4,fetch(a,(0,g.Cl)((0,g.Cl)({},s),{signal:e}))];case 2:if(null===(u=p.sent()))return[2,this.completeRequest({err:ta})];switch(new ev().buildStatus(u.status)){case f.Success:return this.attempts=0,[2,this.parseAndStoreConfig(u)];case f.Failed:return[2,this.retryFetch(e,t)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}return[3,4];case 3:if(c=p.sent(),e.aborted)return[2,this.completeRequest({err:ts})];return[2,this.completeRequest({err:null!==(h=c.message)&&void 0!==h?h:ta})];case 4:return[2]}})})},this.retryFetch=function(e,t){return(0,g.sH)(n,void 0,void 0,function(){var r=this;return(0,g.YH)(this,function(n){switch(n.label){case 0:return[4,new Promise(function(e){return setTimeout(e,r.attempts*r.retryTimeout)})];case 1:return n.sent(),[2,this.fetchRemoteConfig(e,t)]}})})},this.parseAndStoreConfig=function(e){return(0,g.sH)(n,void 0,void 0,function(){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return t=r.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,t]}})})},this.localConfig=t,this.configKeys=r}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===d.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===d.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},e.prototype.completeRequest=function(e){var t=e.err,r=e.success;if(t)throw Error(t);r&&this.localConfig.loggerProvider.log(r)},e}(),tc=function(e){var t=e.localConfig,r=e.configKeys;return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(e){return[2,new tu({localConfig:t,configKeys:r})]})})},tl=function(){function e(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return(0,g.sH)(this,void 0,void 0,function(){var e;return(0,g.YH)(this,function(t){switch(t.label){case 0:return e=this,[4,tc({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=t.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var e,t,r,n;return(0,g.sH)(this,void 0,void 0,function(){var i,o,s;return(0,g.YH)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),!(o=this.remoteConfigFetch))return[3,2];return[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)];case 1:o=a.sent(),a.label=2;case 2:return i=o,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(i,null,2)),i&&"autocapture"in i&&("boolean"==typeof i.autocapture&&(this.config.autocapture=i.autocapture),"object"==typeof i.autocapture&&(void 0===this.config.autocapture&&(this.config.autocapture=i.autocapture),"boolean"==typeof this.config.autocapture&&(this.config.autocapture=(0,g.Cl)({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},i.autocapture)),"object"==typeof this.config.autocapture&&(this.config.autocapture=(0,g.Cl)((0,g.Cl)({},this.config.autocapture),i.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),null!==(e=(n=this.config).requestMetadata)&&void 0!==e||(n.requestMetadata=new H),(null===(t=this.remoteConfigFetch)||void 0===t?void 0:t.metrics.fetchTimeAPISuccess)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),(null===(r=this.remoteConfigFetch)||void 0===r?void 0:r.metrics.fetchTimeAPIFail)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return s=a.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",s),[3,4];case 4:return[2,this.config]}})})},e}(),tf=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],td="data-amp-track-",th=["div","span","h1","h2","h3","h4","h5","h6"],tp="[Amplitude] Element Clicked",tv="[Amplitude] Element Tag",tg="[Amplitude] Element Text",ty="[Amplitude] Page URL",tm="https://app.amplitude.com",tb={US:tm,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},tw=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function tS(e){return"function"==typeof e}function tE(e){return tS(null==e?void 0:e.then)}function t_(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tI=t_(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function tT(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var tA=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,n,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=(0,g.Ju)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this)}var u=this.initialTeardown;if(tS(u))try{u()}catch(e){i=e instanceof tI?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=(0,g.Ju)(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{tC(d)}catch(e){i=null!=i?i:[],e instanceof tI?i=(0,g.fX)((0,g.fX)([],(0,g.zs)(i)),(0,g.zs)(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new tI(i)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)tC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&tT(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&tT(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),tk=tA.EMPTY;function tx(e){return e instanceof tA||e&&"closed"in e&&tS(e.remove)&&tS(e.add)&&tS(e.unsubscribe)}function tC(e){tS(e)?e():e.unsubscribe()}var tO={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tP={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=tP.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,g.fX)([e,t],(0,g.zs)(r))):setTimeout.apply(void 0,(0,g.fX)([e,t],(0,g.zs)(r)))},clearTimeout:function(e){var t=tP.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tN(e){tP.setTimeout(function(){var t=tO.onUnhandledError;if(t)t(e);else throw e})}function tR(){}var tU=tL("C",void 0,void 0);function tL(e,t,r){return{kind:e,value:t,error:r}}var tM=null;function tH(e){if(tO.useDeprecatedSynchronousErrorHandling){var t=!tM;if(t&&(tM={errorThrown:!1,error:null}),e(),t){var r=tM,n=r.errorThrown,i=r.error;if(tM=null,n)throw i}}else e()}var tD=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,tx(t)&&t.add(r)):r.destination=tz,r}return(0,g.C6)(t,e),t.create=function(e,t,r){return new tq(e,t,r)},t.prototype.next=function(e){this.isStopped?tY(tL("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?tY(tL("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?tY(tU,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(tA),tF=Function.prototype.bind;function tj(e,t){return tF.call(e,t)}var tV=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){tB(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){tB(e)}else tB(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){tB(e)}},e}(),tq=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return tS(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&tO.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&tj(t.next,o),error:t.error&&tj(t.error,o),complete:t.complete&&tj(t.complete,o)}):i=t,s.destination=new tV(i),s}return(0,g.C6)(t,e),t}(tD);function tB(e){tO.useDeprecatedSynchronousErrorHandling?tO.useDeprecatedSynchronousErrorHandling&&tM&&(tM.errorThrown=!0,tM.error=e):tN(e)}function tY(e,t){var r=tO.onStoppedNotification;r&&tP.setTimeout(function(){return r(e,t)})}var tz={closed:!0,next:tR,error:function(e){throw e},complete:tR},tK="function"==typeof Symbol&&Symbol.observable||"@@observable";function t$(e){return e}var tG=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof tD||n&&tS(n.next)&&tS(n.error)&&tS(n.complete)&&tx(n)?e:new tq(e,t,r);return tH(function(){var e=i.operator,t=i.source;o.add(e?e.call(o,t):t?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=tJ(t))(function(t,n){var i=new tq({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[tK]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?t$:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=tJ(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function tJ(e){var t;return null!==(t=null!=e?e:tO.Promise)&&void 0!==t?t:Promise}function tQ(e){return Symbol.asyncIterator&&tS(null==e?void 0:e[Symbol.asyncIterator])}function tW(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var tX="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function tZ(e){return tS(null==e?void 0:e[tX])}function t0(e){return(0,g.AQ)(this,arguments,function(){var t,r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,g.N3)(t.read())];case 3:if(n=(r=i.sent()).value,!r.done)return[3,5];return[4,(0,g.N3)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,g.N3)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function t1(e){return tS(null==e?void 0:e.getReader)}function t2(e){if(e instanceof tG)return e;if(null!=e){if(tS(e[tK]))return new tG(function(t){var r=e[tK]();if(tS(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(tw(e))return new tG(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()});if(tE(e))return new tG(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,tN)});if(tQ(e))return t3(e);if(tZ(e))return new tG(function(t){var r,n;try{for(var i=(0,g.Ju)(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()});if(t1(e))return t3(t0(e))}throw tW(e)}function t3(e){return new tG(function(t){(function(e,t){var r,n,i,o;return(0,g.sH)(this,void 0,void 0,function(){var s;return(0,g.YH)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=(0,g.xN)(e),a.label=1;case 1:return[4,r.next()];case 2:if((n=a.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(n&&!n.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function t4(e){return function(t){if(tS(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function t6(e,t,r,n,i){return new t5(e,t,r,n,i)}var t5=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,g.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(tD);function t8(e,t){return t4(function(r,n){var i=0;r.subscribe(t6(n,function(r){n.next(e.call(t,r,i++))}))})}function t9(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function t7(e,t,r){return(void 0===r&&(r=1/0),tS(t))?t7(function(r,n){return t8(function(e,i){return t(r,e,n,i)})(t2(e(r,n)))},r):("number"==typeof t&&(r=t),t4(function(t,n){var i,o,s,a,u,c,l,f,d;return i=r,s=[],a=0,u=0,c=!1,l=function(){!c||s.length||a||n.complete()},f=function(e){return a<i?d(e):s.push(e)},d=function(t){a++;var r=!1;t2(e(t,u++)).subscribe(t6(n,function(e){o?f(e):n.next(e)},function(){r=!0},void 0,function(){if(r)try{for(a--;s.length&&a<i;)!function(){var e=s.shift();d(e)}();l()}catch(e){n.error(e)}}))},t.subscribe(t6(n,f,function(){c=!0,l()})),function(){}}))}var re=Array.isArray,rt=["addListener","removeListener"],rr=["addEventListener","removeEventListener"],rn=["on","off"];function ri(e,t,r,n){if(tS(r)&&(n=r,r=void 0),n)return ri(e,t,r).pipe((i=n,t8(function(e){return re(e)?i.apply(void 0,(0,g.fX)([],(0,g.zs)(e))):i(e)})));var i,o=(0,g.zs)(tS(e.addEventListener)&&tS(e.removeEventListener)?rr.map(function(n){return function(i){return e[n](t,i,r)}}):tS(e.addListener)&&tS(e.removeListener)?rt.map(ro(e,t)):tS(e.on)&&tS(e.off)?rn.map(ro(e,t)):[],2),s=o[0],a=o[1];if(!s&&tw(e))return t7(function(e){return ri(e,t,r)})(t2(e));if(!s)throw TypeError("Invalid event target");return new tG(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return s(t),function(){return a(t)}})}function ro(e,t){return function(r){return function(n){return e[r](t,n)}}}var rs=t_(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ra=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,g.C6)(t,e),t.prototype.lift=function(e){var t=new ru(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rs},t.prototype.next=function(e){var t=this;tH(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,g.Ju)(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;tH(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;tH(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?tk:(this.currentObservers=null,i.push(e),new tA(function(){t.currentObservers=null,tT(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new tG;return e.source=this,e},t.create=function(e,t){return new ru(e,t)},t}(tG),ru=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,g.C6)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:tk},t}(ra);function rc(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new ra}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,s=void 0===o||o,a=e.resetOnRefCountZero,u=void 0===a||a;return function(e){var t,n,o,a=0,c=!1,l=!1,f=function(){null==n||n.unsubscribe(),n=void 0},d=function(){f(),t=o=void 0,c=l=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return t4(function(e,p){a++,l||c||f();var v=o=null!=o?o:r();p.add(function(){0!=--a||l||c||(n=rl(h,u))}),v.subscribe(p),!t&&a>0&&(t=new tq({next:function(e){return v.next(e)},error:function(e){l=!0,f(),n=rl(d,i,e),v.error(e)},complete:function(){c=!0,f(),n=rl(d,s),v.complete()}}),t2(e).subscribe(t))})(e)}}function rl(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var i=new tq({next:function(){i.unsubscribe(),e()}});return t2(t.apply(void 0,(0,g.fX)([],(0,g.zs)(r)))).subscribe(i)}}var rf=["input","select","textarea"],rd=function(e,t){return function(r,n){var i,o,s,a=e.pageUrlAllowlist,u=e.shouldTrackEventResolver,c=null===(o=null===(i=null==n?void 0:n.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===o?void 0:o.call(i);if(!c)return!1;if(u)return u(r,n);if(!rg(window.location.href,a))return!1;var l=String(null==n?void 0:n.getAttribute("type"))||"";if("string"==typeof l)switch(l.toLowerCase()){case"hidden":case"password":return!1}if(t&&!t.some(function(e){var t;return!!(null===(t=null==n?void 0:n.matches)||void 0===t?void 0:t.call(n,e))}))return!1;switch(c){case"input":case"select":case"textarea":return"change"===r||"click"===r;default:var f=null===(s=null==window?void 0:window.getComputedStyle)||void 0===s?void 0:s.call(window,n);if(f&&"pointer"===f.getPropertyValue("cursor")&&"click"===r)return!0;return"click"===r}}},rh=function(e){return!(null==e||"string"==typeof e&&(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(e)))},rp=function(e){var t,r,n,i=null===(r=null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase)||void 0===r?void 0:r.call(t),o=e instanceof HTMLElement&&(null===(n=e.getAttribute("contenteditable"))||void 0===n?void 0:n.toLowerCase())==="true";return!rf.includes(i)&&!o},rv=function(e){var t="";return rp(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(e){var r="";e&&3===e.nodeType?e.textContent&&(r=e.textContent):r=rv(e),t+=r.split(/(\s+)/).filter(rh).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},rg=function(e,t){return!t||!t.length||t.some(function(t){return"string"==typeof t?e===t:e.match(t)})},ry=function(e){return Object.keys(e).reduce(function(t,r){var n=e[r];return null==n||"object"==typeof n&&0===Object.keys(n).length||"string"==typeof n&&0===n.trim().length||(t[r]=n),t},{})},rm=function(e){var t,r=e.parentElement;if(!r)return"";try{t=r.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(e){t=null}if(t){var n=t.textContent||"";return rh(n)?n:""}return rm(r)},rb=function(e,t){return e?t.some(function(t){var r;return null===(r=null==e?void 0:e.matches)||void 0===r?void 0:r.call(e,t)})?e:rb(null==e?void 0:e.parentElement,t):null},rw=function(e){if(!e)return{};var t,r,n,i=null===(n=null===(r=null==e?void 0:e.tagName)||void 0===r?void 0:r.toLowerCase)||void 0===n?void 0:n.call(r);return ry(((t={})[tv]=i,t[tg]=rv(e),t[ty]=window.location.href.split("?")[0],t))},rS=function(e){return null!==e.event.target&&!!e.closestTrackedAncestor},rE=function(){function e(e){var t=(void 0===e?{}:e).origin,r=this;this.endpoint=tm,this.requestCallbacks={},this.onSelect=function(e){r.notify({action:"element-selected",data:e})},this.onTrack=function(e,t){"selector-mode-changed"===e?r.notify({action:"track-selector-mode-changed",data:t}):"selector-moved"===e&&r.notify({action:"track-selector-moved",data:t})},this.endpoint=void 0===t?tm:t}return e.prototype.notify=function(e){var t,r,n,i;null===(r=null===(t=this.logger)||void 0===t?void 0:t.debug)||void 0===r||r.call(t,"Message sent: ",JSON.stringify(e)),null===(i=null===(n=window.opener)||void 0===n?void 0:n.postMessage)||void 0===i||i.call(n,e,this.endpoint)},e.prototype.sendRequest=function(e,t,r){var n=this;void 0===r&&(r={timeout:15e3});var i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o={id:i,action:e,args:t};return new Promise(function(t,s){n.requestCallbacks[i]={resolve:t,reject:s},n.notify(o),(null==r?void 0:r.timeout)>0&&setTimeout(function(){s(Error("".concat(e," timed out (id: ").concat(i,")"))),delete n.requestCallbacks[i]},r.timeout)})},e.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){null===(t=this.logger)||void 0===t||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},e.prototype.setup=function(e){var t=this,r=void 0===e?{}:e,n=r.logger,i=r.endpoint,o=r.isElementSelectable,s=r.cssSelectorAllowlist,a=r.actionClickAllowlist;this.logger=n,i&&this.endpoint===tm&&(this.endpoint=i);var u=null;window.addEventListener("message",function(e){if(null===(n=null===(r=t.logger)||void 0===r?void 0:r.debug)||void 0===n||n.call(r,"Message received: ",JSON.stringify(e)),t.endpoint===e.origin){var r,n,i,c,l,f=null==e?void 0:e.data,d=null==f?void 0:f.action;if(d){if("id"in f)null===(c=null===(i=t.logger)||void 0===i?void 0:i.debug)||void 0===c||c.call(i,"Received Response to previous request: ",JSON.stringify(e)),t.handleResponse(f);else if("ping"===d)t.notify({action:"pong"});else if("initialize-visual-tagging-selector"===d){var h,p=null==f?void 0:f.data;(h="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise(function(e,t){var r;try{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=h,n.addEventListener("load",function(){e({status:!0})},{once:!0}),n.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(h)})}),null===(r=document.head)||void 0===r||r.appendChild(n)}catch(e){t(e)}})).then(function(){var e;u=null===(e=null==window?void 0:window.amplitudeVisualTaggingSelector)||void 0===e?void 0:e.call(window,{getEventTagProps:rw,isElementSelectable:function(e){return!o||o((null==p?void 0:p.actionType)||"click",e)},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:"amp-visual-tagging-selector-highlight",messenger:t,cssSelectorAllowlist:s,actionClickAllowlist:a}),t.notify({action:"selector-loaded"})}).catch(function(){var e;null===(e=t.logger)||void 0===e||e.warn("Failed to initialize visual tagging selector")})}else"close-visual-tagging-selector"===d&&(null===(l=null==u?void 0:u.close)||void 0===l||l.call(u))}}}),this.notify({action:"page-loaded"})},e}(),r_=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],rI=["type"],rT=["svg","path","g"],rA=["password","hidden"];function rk(e,t){return t4(function(r,n){var i=0;r.subscribe(t6(n,function(r){return e.call(t,r,i++)&&n.next(r)}))})}var rx=function(e){function t(t,r){return e.call(this)||this}return(0,g.C6)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(tA),rC={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=rC.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,g.fX)([e,t],(0,g.zs)(r))):setInterval.apply(void 0,(0,g.fX)([e,t],(0,g.zs)(r)))},clearInterval:function(e){var t=rC.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},rO=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,g.C6)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),rC.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rC.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tT(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rx),rP={now:function(){return(rP.delegate||Date).now()},delegate:void 0},rN=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=rP.now,e}(),rR=new(function(e){function t(t,r){void 0===r&&(r=rN.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return(0,g.C6)(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(rN))(rO);function rU(e){return void 0===e&&(e=1/0),t7(t$,e)}var rL=new tG(function(e){return e.complete()});function rM(e){return e&&tS(e.schedule)}function rH(e){return e[e.length-1]}function rD(e){return rM(rH(e))?e.pop():void 0}function rF(e,t){return void 0===t&&(t=0),t4(function(r,n){r.subscribe(t6(n,function(r){return t9(n,e,function(){return n.next(r)},t)},function(){return t9(n,e,function(){return n.complete()},t)},function(r){return t9(n,e,function(){return n.error(r)},t)}))})}function rj(e,t){return void 0===t&&(t=0),t4(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function rV(e,t){if(!e)throw Error("Iterable cannot be null");return new tG(function(r){t9(r,t,function(){var n=e[Symbol.asyncIterator]();t9(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function rq(e,t){return t?function(e,t){if(null!=e){if(tS(e[tK]))return t2(e).pipe(rj(t),rF(t));if(tw(e))return new tG(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})});if(tE(e))return t2(e).pipe(rj(t),rF(t));if(tQ(e))return rV(e,t);if(tZ(e))return new tG(function(r){var n;return t9(r,t,function(){n=e[tX](),t9(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return tS(null==n?void 0:n.return)&&n.return()}});if(t1(e))return rV(t0(e),t)}throw tW(e)}(e,t):t2(e)}function rB(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=rD(t),i=(e=1/0,"number"==typeof rH(t)?t.pop():e);return t.length?1===t.length?t2(t[0]):rU(i)(rq(t,n)):rL}function rY(e){return e<=0?function(){return rL}:t4(function(t,r){var n=0;t.subscribe(t6(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}function rz(e){return e instanceof Date&&!isNaN(e)}var rK=t_(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function r$(e){throw new rK(e)}!function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"}(h||(h={}));var rG=function(e){void 0===e&&(e={});var t,r,n,i=e.dataAttributePrefix,o=void 0===i?td:i,s=e.visualTaggingOptions,a=void 0===s?{enabled:!0,messenger:new rE}:s;e.cssSelectorAllowlist=null!==(t=e.cssSelectorAllowlist)&&void 0!==t?t:tf,e.actionClickAllowlist=null!==(r=e.actionClickAllowlist)&&void 0!==r?r:th,e.debounceTime=null!==(n=e.debounceTime)&&void 0!==n?n:0;var u="@amplitude/plugin-autocapture-browser",c=[],l=function(){var e,t,r=ri(document,"click",{capture:!0}).pipe(t8(function(e){return d(e,"click")}),rc()),n=ri(document,"change",{capture:!0}).pipe(t8(function(e){return d(e,"change")}),rc());window.navigation&&(t=ri(window.navigation,"navigate").pipe(t8(function(e){return d(e,"navigate")}),rc()));var i=new tG(function(e){var t=new MutationObserver(function(t){e.next(t)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}}).pipe(t8(function(e){return d(e,"mutation")}),rc());return(e={})[h.ClickObservable]=r,e[h.ChangeObservable]=n,e[h.NavigateObservable]=t,e[h.MutationObservable]=i,e},f=function(e,t){var r,n,i,s,a=null===(s=null===(i=null==t?void 0:t.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===s?void 0:s.call(i),u="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:null,top:null},c=t.getAttribute("aria-label"),l=t.getAttributeNames().reduce(function(e,r){if(r.startsWith(o)){var n=r.replace(o,""),i=t.getAttribute(r);n&&(e[n]=i||"")}return e},{}),f=rm(t),d=((n={})["[Amplitude] Element ID"]=t.getAttribute("id")||"",n["[Amplitude] Element Class"]=t.getAttribute("class"),n["[Amplitude] Element Hierarchy"]=(r=t)?function(e,t){for(var r=0,n=0;n<e.length;n++){var i=e[n];if(null===i)r+=4;else{var o=function e(t,r){void 0===r&&(r=!1);try{if(null==t){if(r)return"None";return null}if("string"==typeof t){if(r){if((t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")).includes('"'))return"'".concat(t,"'");if(t.includes("'"))return'"'.concat(t.replace(/'/g,"\\'"),'"');return"'".concat(t,"'")}return t}if("boolean"==typeof t)return t?"True":"False";if(Array.isArray(t)){var n=t.map(function(t){return e(t,!0)});return"[".concat(n.join(", "),"]")}else if("object"==typeof t){var i=Object.entries(t).filter(function(e){var t=(0,g.zs)(e,1)[0];return null!=t}).map(function(t){var r=(0,g.zs)(t,2),n=r[0],i=r[1];return"".concat(String(e(n,!0)),": ").concat(String(e(i,!0)))}),o="{".concat(i.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return t.toString()}catch(e){return null}}(i);r+=o?Array.from(o).length:4}if(r>1024)return e.slice(0,n)}return e}((function(e){var t=[];if(!e)return t;t.push(e);for(var r=e.parentElement;r&&"HTML"!==r.tagName;)t.push(r),r=r.parentElement;return t})(r).map(function(e){return function(e){if(null===e)return null;var t,r,n,i,o,s,a=String(e.tagName).toLowerCase(),u={tag:a},c=Array.from(null!==(i=null===(n=e.parentElement)||void 0===n?void 0:n.children)&&void 0!==i?i:[]);c.length&&(u.index=c.indexOf(e),u.indexOfType=c.filter(function(t){return t.tagName===e.tagName}).indexOf(e));var l=null===(s=null===(o=e.previousElementSibling)||void 0===o?void 0:o.tagName)||void 0===s?void 0:s.toLowerCase();l&&(u.prevSib=String(l));var f=e.getAttribute("id");f&&(u.id=String(f));var d=Array.from(e.classList);d.length&&(u.classes=d);var h={},p=Array.from(e.attributes).filter(function(e){return!r_.includes(e.name)}),v=!rp(e);if(!rA.includes(String(e.getAttribute("type")))&&!rT.includes(a))try{for(var y=(0,g.Ju)(p),m=y.next();!m.done;m=y.next()){var b=m.value;(!v||rI.includes(b.name))&&(h[b.name]=String(b.value).substring(0,128))}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}return Object.keys(h).length&&(u.attrs=h),u}(e)}),0):[],n[tv]=a,n[tg]=rv(t),n["[Amplitude] Element Position Left"]=null==u.left?null:Math.round(u.left),n["[Amplitude] Element Position Top"]=null==u.top?null:Math.round(u.top),n["[Amplitude] Element Aria Label"]=c,n["[Amplitude] Element Attributes"]=l,n["[Amplitude] Element Parent Label"]=f,n[ty]=window.location.href.split("?")[0],n["[Amplitude] Page Title"]="undefined"!=typeof document&&document.title||"",n["[Amplitude] Viewport Height"]=window.innerHeight,n["[Amplitude] Viewport Width"]=window.innerWidth,n);return"a"===a&&"click"===e&&t instanceof HTMLAnchorElement&&(d["[Amplitude] Element Href"]=t.href),ry(d)},d=function(t,r){var n={event:t,timestamp:Date.now(),type:r};if(("click"===n.type||"change"===n.type)&&null!==n.event.target){var i=rb(n.event.target,e.cssSelectorAllowlist);i&&(n.closestTrackedAncestor=i,n.targetElementProperties=f(n.type,i))}return n};return{name:u,type:"enrichment",setup:function(t,r){return(0,g.sH)(void 0,void 0,void 0,function(){var n,i,o,s,d,h,p,v,y,m;return(0,g.YH)(this,function(b){var w,S,E,_,I,T,A,k,x,C,O,P,N,R,U,L,M,H,D,F,j,V,q,B,Y,z,K,$,G,J,Q,W,X,Z;return"undefined"==typeof document||(n=rd(e,e.cssSelectorAllowlist),i=rd(e,e.actionClickAllowlist),S=(w={allObservables:o=l(),options:e,amplitude:r,shouldTrackEvent:n}).amplitude,E=w.allObservables,_=w.options,I=w.shouldTrackEvent,x=rB((T=E.clickObservable).pipe(t4(function(e,t){var r,n=!1;e.subscribe(t6(t,function(e){var i=r;r=e,n&&t.next([i,e]),n=!0}))}),rk(function(e){var t=(0,g.zs)(e,2),r=t[0],n=t[1],i=r.event.target!==n.event.target,o=20>=Math.abs(n.event.screenX-r.event.screenX)&&20>=Math.abs(n.event.screenY-r.event.screenY);return i&&!o})),T.pipe((A=_.debounceTime,void 0===k&&(k=rR),t4(function(e,t){var r=null,n=null,i=null,o=function(){if(r){r.unsubscribe(),r=null;var e=n;n=null,t.next(e)}};function s(){var e=i+A,n=k.now();if(n<e){r=this.schedule(void 0,e-n),t.add(r);return}o()}e.subscribe(t6(t,function(e){n=e,i=k.now(),r||(r=k.schedule(s,A),t.add(r))},function(){o(),t.complete()},void 0,function(){n=r=null}))})),t8(function(){return"timeout"}))),s=T.pipe((void 0===C&&(C=rR),O=0,P=C,void 0===O&&(O=0),void 0===N&&(N=rR),R=-1,null!=P&&(rM(P)?N=P:R=P),U=new tG(function(e){var t=rz(O)?+O-N.now():O;t<0&&(t=0);var r=0;return N.schedule(function(){e.closed||(e.next(r++),0<=R?this.schedule(void 0,R):e.complete())},t)}),function e(t,r){return r?function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rU(1)(rq(e,rD(e)))}(r.pipe(rY(1),t4(function(e,t){e.subscribe(t6(t,tR))})),n.pipe(e(t)))}:t7(function(e,r){return t2(t(e,r)).pipe(rY(1),t8(function(){return e}))})}(function(){return U})),rk(rS),rk(function(e){return I("click",e.closestTrackedAncestor)}),t4(function(e,t){var r=[];return e.subscribe(t6(t,function(e){return r.push(e)},function(){t.next(r),t.complete()})),t2(x).subscribe(t6(t,function(){var e=r;r=[],t.next(e)},tR)),function(){r=null}})).subscribe(function(e){var t,r,n=(e.length,tp);try{for(var i=(0,g.Ju)(e),o=i.next();!o.done;o=i.next()){var s=o.value;null==S||S.track(n,s.targetElementProperties)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),c.push(s),M=(L={allObservables:o,getEventProperties:f,amplitude:r,shouldTrackEvent:n}).amplitude,H=L.allObservables,D=L.getEventProperties,F=L.shouldTrackEvent,d=H.changeObservable.pipe(rk(rS),rk(function(e){return F("change",e.closestTrackedAncestor)})).subscribe(function(e){null==M||M.track("[Amplitude] Element Changed",D("change",e.closestTrackedAncestor))}),c.push(d),V=(j={allObservables:o,options:e,getEventProperties:f,amplitude:r,shouldTrackEvent:n,shouldTrackActionClick:i}).amplitude,q=j.allObservables,B=j.options,Y=j.getEventProperties,z=j.shouldTrackEvent,K=j.shouldTrackActionClick,$=q.clickObservable,G=q.mutationObservable,J=q.navigateObservable,Q=$.pipe(rk(function(e){return!z("click",e.closestTrackedAncestor)}),t8(function(e){var t=rb(e.event.target,B.actionClickAllowlist);return e.closestTrackedAncestor=t,null!==e.closestTrackedAncestor&&(e.targetElementProperties=Y(e.type,e.closestTrackedAncestor)),e}),rk(rS),rk(function(e){return K("click",e.closestTrackedAncestor)})),W=[G],J&&W.push(J),X=rB.apply(void 0,(0,g.fX)([],(0,g.zs)(W),!1)),h=Q.pipe((Z=function(e){return X.pipe(rY(1),function(e,t){var r=rz(e)?{first:e}:"number"==typeof e?{each:e}:e,n=r.first,i=r.each,o=r.with,s=void 0===o?r$:o,a=r.scheduler,u=void 0===a?rR:a,c=r.meta,l=void 0===c?null:c;if(null==n&&null==i)throw TypeError("No timeout provided.");return t4(function(e,t){var r,o,a=null,c=0,f=function(e){o=t9(t,u,function(){try{r.unsubscribe(),t2(s({meta:l,lastValue:a,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe(t6(t,function(e){null==o||o.unsubscribe(),c++,t.next(a=e),i>0&&f(i)},void 0,void 0,function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),a=null})),c||f(null!=n?"number"==typeof n?n:+n-u.now():i)})}({first:500,with:function(){return rL}}),t8(function(){return e}))},t4(function(e,t){var r=null,n=0,i=!1,o=function(){return i&&!r&&t.complete()};e.subscribe(t6(t,function(e){null==r||r.unsubscribe(),t2(Z(e,n++)).subscribe(r=t6(t,function(e){return t.next(e)},function(){r=null,o()}))},function(){i=!0,o()}))}))).subscribe(function(e){null==V||V.track(tp,Y("click",e.closestTrackedAncestor))}),c.push(h),null===(y=null==t?void 0:t.loggerProvider)||void 0===y||y.log("".concat(u," has been successfully added.")),window.opener&&a.enabled&&(p=e.cssSelectorAllowlist,v=e.actionClickAllowlist,null===(m=a.messenger)||void 0===m||m.setup((0,g.Cl)((0,g.Cl)({logger:null==t?void 0:t.loggerProvider},(null==t?void 0:t.serverZone)&&{endpoint:tb[t.serverZone]}),{isElementSelectable:rd(e,(0,g.fX)((0,g.fX)([],(0,g.zs)(p),!1),(0,g.zs)(v),!1)),cssSelectorAllowlist:p,actionClickAllowlist:v})))),[2]})})},execute:function(e){return(0,g.sH)(void 0,void 0,void 0,function(){return(0,g.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,g.sH)(void 0,void 0,void 0,function(){var e,t,r,n;return(0,g.YH)(this,function(i){try{for(t=(e=(0,g.Ju)(c)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){r={error:e}}finally{try{t&&!t.done&&(n=e.return)&&n.call(e)}finally{if(r)throw r.error}}return[2]})})}}},rJ="dclid",rQ="fbclid",rW="gbraid",rX="gclid",rZ="ko_click_id",r0="li_fat_id",r1="msclkid",r2="rtd_cid",r3="ttclid",r4="twclid",r6="wbraid",r5={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},r8=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},r9=function(e,t,r,n,i){void 0===i&&(i=!0),e.referrer;var o=e.referring_domain,s=(0,g.Tt)(e,["referrer","referring_domain"]),a=t||{},u=(a.referrer,a.referring_domain),c=(0,g.Tt)(a,["referrer","referring_domain"]);if(r7(r.excludeReferrers,e.referring_domain))return n.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&Object.values(e).every(function(e){return!e})&&t)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var l=JSON.stringify(s)!==JSON.stringify(c),f=r8(o||"")!==r8(u||""),d=!t||l||f;return d?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),d},r7=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},ne=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},nt=function(){function e(){}return e.prototype.parse=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){return[2,(0,g.Cl)((0,g.Cl)((0,g.Cl)((0,g.Cl)({},r5),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=_();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=null!==(t=null===(e=r.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return r},e.prototype.getClickIds=function(){var e,t=_();return(e={})[rJ]=t[rJ],e[rQ]=t[rQ],e[rW]=t[rW],e[rX]=t[rX],e[rZ]=t[rZ],e[r0]=t[r0],e[r1]=t[r1],e[r2]=t[r2],e[r3]=t[r3],e[r4]=t[r4],e[r6]=t[r6],e},e}(),nr=function(){function e(e,t){var r,n,i,o;this.shouldTrackNewCampaign=!1,this.options=(0,g.Cl)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:ne(null===(r=t.cookieOptions)||void 0===r?void 0:r.domain)},e),this.storage=t.cookieStorage,this.storageKey=(n=t.apiKey,i="MKTG",void 0===o&&(o=10),[C.r,i,n.substring(0,o)].filter(Boolean).join("_")),this.currentCampaign=r5,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,g.sH)(this,void 0,void 0,function(){var e,t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=g.zs.apply(void 0,[r.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||K(this.sessionTimeout,this.lastEventTime),!r9(this.currentCampaign,this.previousCampaign,this.options,this.logger,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,g.sH)(this,void 0,void 0,function(){return(0,g.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([new nt().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,r,n=(t=this.currentCampaign,r=this.options,G(Object.entries((0,g.Cl)((0,g.Cl)({},r5),t)).reduce(function(e,t){var n,i=(0,g.zs)(t,2),o=i[0],s=i[1];return(e.setOnce("initial_".concat(o),null!==(n=null!=s?s:r.initialEmptyValue)&&void 0!==n?n:"EMPTY"),s)?e.set(o,s):e.unset(o)},new B.T$)));return e&&(n.event_id=e),n},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,g.C6)(t,e),t.prototype.init=function(e,t,r){var n,i;return void 0===e&&(e=""),arguments.length>2?(n=t,i=r):"string"==typeof t?(n=t,i=void 0):(n=null==t?void 0:t.userId,i=t),S(this._init((0,g.Cl)((0,g.Cl)({},i),{userId:n,apiKey:e})))},t.prototype._init=function(t){var r,n,i;return(0,g.sH)(this,void 0,void 0,function(){var o,s,a,u,c,l=this;return(0,g.YH)(this,function(f){var d,h,p,v,y;switch(f.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(d=t.apiKey,h=t,p=this,void 0===h&&(h={}),(0,g.sH)(void 0,void 0,void 0,function(){var e,t,r,n,i,o,s,a,u,c,l,f,v,y,m,b,w,S,E,I,T,A,k,x,O,P,N,R,U,L,M,H,D,j,V,q,B,Y,z,K,$,G,J;return(0,g.YH)(this,function(Q){var W,X,Z;switch(Q.label){case 0:if(e=h.identityStorage||eD,E={},!(e!==eD))return[3,1];return r="",[3,5];case 1:if(!(null!==(T=null===(I=h.cookieOptions)||void 0===I?void 0:I.domain)&&void 0!==T))return[3,2];return n=T,[3,4];case 2:return[4,(0,g.sH)(void 0,void 0,void 0,function(){var e,t,r,n,i,o;return(0,g.YH)(this,function(s){switch(s.label){case 0:return[4,new ed().isEnabled()];case 1:if(!s.sent()||"undefined"==typeof location||!location.hostname)return[2,""];for(e=(null!=W?W:location.hostname).split("."),t=[],r="AMP_TLDTEST",n=e.length-2;n>=0;--n)t.push(e.slice(n).join("."));n=0,s.label=2;case 2:if(!(n<t.length))return[3,7];return[4,(o=new ed({domain:"."+(i=t[n])})).set(r,1)];case 3:return s.sent(),[4,o.get(r)];case 4:if(!s.sent())return[3,6];return[4,o.remove(r)];case 5:return s.sent(),[2,"."+i];case 6:return n++,[3,2];case 7:return[2,""]}})})];case 3:n=Q.sent(),Q.label=4;case 4:r=n,Q.label=5;case 5:return t=g.Cl.apply(void 0,[(E.domain=r,E.expiration=365,E.sameSite="Lax",E.secure=!1,E.upgrade=!0,E),h.cookieOptions]),[4,(X=i=ej(h.identityStorage,t),void 0===(Z=null===(k=null===(A=h.cookieOptions)||void 0===A?void 0:A.upgrade)||void 0===k||k)&&(Z=!0),(0,g.sH)(void 0,void 0,void 0,function(){var e,t,r,n,i,o,s,a,u;return(0,g.YH)(this,function(c){switch(c.label){case 0:return e="".concat(C.r.toLowerCase(),"_").concat(d.substring(0,6)),[4,X.getRaw(e)];case 1:if(!(t=c.sent()))return[2,{optOut:!1}];if(!Z)return[3,3];return[4,X.remove(e)];case 2:c.sent(),c.label=3;case 3:return n=(r=(0,g.zs)(t.split("."),6))[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],[2,{deviceId:n,userId:e_(i),sessionId:eE(s),lastEventId:eE(u),lastEventTime:eE(a),optOut:!!o}]}})}))];case 6:return o=Q.sent(),[4,i.get(ef(d))];case 7:return s=Q.sent(),a=_(),u=null!==(R=null!==(N=null!==(P=null!==(O=null!==(x=h.deviceId)&&void 0!==x?x:a.ampDeviceId)&&void 0!==O?O:a.deviceId)&&void 0!==P?P:null==s?void 0:s.deviceId)&&void 0!==N?N:o.deviceId)&&void 0!==R?R:F(),c=null!==(U=null==s?void 0:s.lastEventId)&&void 0!==U?U:o.lastEventId,l=null!==(L=null==s?void 0:s.lastEventTime)&&void 0!==L?L:o.lastEventTime,f=null!==(H=null!==(M=h.optOut)&&void 0!==M?M:null==s?void 0:s.optOut)&&void 0!==H?H:o.optOut,v=null!==(D=null==s?void 0:s.sessionId)&&void 0!==D?D:o.sessionId,y=null!==(V=null!==(j=h.userId)&&void 0!==j?j:null==s?void 0:s.userId)&&void 0!==V?V:o.userId,p.previousSessionDeviceId=null!==(q=null==s?void 0:s.deviceId)&&void 0!==q?q:o.deviceId,p.previousSessionUserId=null!==(B=null==s?void 0:s.userId)&&void 0!==B?B:o.userId,m={ipAddress:null===(z=null===(Y=h.trackingOptions)||void 0===Y?void 0:Y.ipAddress)||void 0===z||z,language:null===($=null===(K=h.trackingOptions)||void 0===K?void 0:K.language)||void 0===$||$,platform:null===(J=null===(G=h.trackingOptions)||void 0===G?void 0:G.platform)||void 0===J||J},b=null==s?void 0:s.pageCounter,w=null==s?void 0:s.debugLogsEnabled,void 0!==h.autocapture&&(h.defaultTracking=h.autocapture),[4,(S=new eF(d,h.appVersion,i,t,h.defaultTracking,h.autocapture,u,h.flushIntervalMillis,h.flushMaxRetries,h.flushQueueSize,e,h.ingestionMetadata,h.instanceName,c,l,h.loggerProvider,h.logLevel,h.minIdLength,h.offline,f,h.partnerId,h.plan,h.serverUrl,h.serverZone,v,h.sessionTimeout,h.storageProvider,m,h.transport,h.useBatch,h.fetchRemoteConfig,y,b,w)).storageProvider.isEnabled()];case 8:return Q.sent()||(S.loggerProvider.warn("Storage provider ".concat(S.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),S.storageProvider=new el),[2,S]}})}))];case 1:if(o=f.sent(),!t.fetchRemoteConfig)return[3,4];return[4,(v=o,(0,g.sH)(void 0,void 0,void 0,function(){var e;return(0,g.YH)(this,function(t){switch(t.label){case 0:return[4,(e=new tl(v)).initialize()];case 1:return t.sent(),[2,e]}})}))];case 2:return[4,f.sent().generateJoinedConfig()];case 3:o=f.sent(),f.label=4;case 4:return[4,e.prototype._init.call(this,o)];case 5:if(f.sent(),this.logBrowserOptions(o),!Z(this.config.defaultTracking))return[3,7];return s=Z((y=this.config).defaultTracking)&&y.defaultTracking&&"object"==typeof y.defaultTracking&&y.defaultTracking.attribution&&"object"==typeof y.defaultTracking.attribution?(0,g.Cl)({},y.defaultTracking.attribution):{},this.webAttribution=new nr(s,this.config),[4,this.webAttribution.init()];case 6:f.sent(),f.label=7;case 7:if(u=Number.isNaN(Number((a=_()).ampSessionId))?void 0:Number(a.ampSessionId),this.setSessionId(null!==(i=null!==(n=null!==(r=t.sessionId)&&void 0!==r?r:u)&&void 0!==n?n:this.config.sessionId)&&void 0!==i?i:Date.now()),(c=A(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(null!==this.config.offline))return[3,9];return[4,this.add(to()).promise];case 8:f.sent(),f.label=9;case 9:return[4,this.add(new V).promise];case 10:return f.sent(),[4,this.add(new ec).promise];case 11:return f.sent(),[4,this.add(new q).promise];case 12:if(f.sent(),ti(this.config),!X(this.config.defaultTracking,"fileDownloads"))return[3,14];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(tr()).promise];case 13:f.sent(),f.label=14;case 14:if(!X(this.config.defaultTracking,"formInteractions"))return[3,16];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(e7()).promise];case 15:f.sent(),f.label=16;case 16:if(!ee(this.config.defaultTracking))return[3,18];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(e6(ei(this.config))).promise];case 17:f.sent(),f.label=18;case 18:if(!er(this.config.autocapture))return[3,20];return this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(rG(en(this.config))).promise];case 19:f.sent(),f.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return f.sent(),c.eventBridge.setEventReceiver(function(e){l.track(e.eventType,e.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config){this.q.push(this.setUserId.bind(this,e));return}this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,this.timeline.onIdentityChanged({userId:e}),k(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config){this.q.push(this.setDeviceId.bind(this,e));return}this.config.loggerProvider.debug("function setDeviceId: ",e),e!==this.config.deviceId&&(this.config.deviceId=e,this.timeline.onIdentityChanged({deviceId:e}),x(e,this.config.instanceName))},t.prototype.reset=function(){this.setDeviceId(F()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,r=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),S(Promise.resolve());if(e===this.config.sessionId)return S(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var n=this.getSessionId();n!==e&&this.timeline.onSessionIdChanged(e);var i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,et(this.config.defaultTracking)&&(n&&i&&r.push(this.track(eC,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:n,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var s=this.trackCampaignEventIfNeeded(++o,r);return et(this.config.defaultTracking)&&r.push(this.track(ex,void 0,{event_id:s?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,S(Promise.all(r))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config){this.q.push(this.setTransport.bind(this,e));return}this.config.transportProvider=eV(e)},t.prototype.identify=function(t,r){if(es(t)){var n=t._q;t._q=[],t=eo(new B.T$,n)}return(null==r?void 0:r.user_id)&&this.setUserId(r.user_id),(null==r?void 0:r.device_id)&&this.setDeviceId(r.device_id),e.prototype.identify.call(this,t,r)},t.prototype.groupIdentify=function(t,r,n,i){if(es(n)){var o=n._q;n._q=[],n=eo(new B.T$,o)}return e.prototype.groupIdentify.call(this,t,r,n,i)},t.prototype.revenue=function(t,r){if(es(t)){var n=t._q;t._q=[],t=eo(new z,n)}return e.prototype.revenue.call(this,t,r)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var r=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(r).promise):this.track(r),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,g.sH)(this,void 0,void 0,function(){var r,n,i;return(0,g.YH)(this,function(o){return r=Date.now(),n=K(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===ex||t.event_type===eC||t.session_id&&t.session_id!==this.getSessionId()||(n||i?(this.setSessionId(r),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):n||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,g.Cl)((0,g.Cl)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t}(W);let ni=function(){var e=new nn;return{init:w(e.init.bind(e),"init",y(e),b(e,["config"])),add:w(e.add.bind(e),"add",y(e),b(e,["config.apiKey","timeline.plugins"])),remove:w(e.remove.bind(e),"remove",y(e),b(e,["config.apiKey","timeline.plugins"])),track:w(e.track.bind(e),"track",y(e),b(e,["config.apiKey","timeline.queue.length"])),logEvent:w(e.logEvent.bind(e),"logEvent",y(e),b(e,["config.apiKey","timeline.queue.length"])),identify:w(e.identify.bind(e),"identify",y(e),b(e,["config.apiKey","timeline.queue.length"])),groupIdentify:w(e.groupIdentify.bind(e),"groupIdentify",y(e),b(e,["config.apiKey","timeline.queue.length"])),setGroup:w(e.setGroup.bind(e),"setGroup",y(e),b(e,["config.apiKey","timeline.queue.length"])),revenue:w(e.revenue.bind(e),"revenue",y(e),b(e,["config.apiKey","timeline.queue.length"])),flush:w(e.flush.bind(e),"flush",y(e),b(e,["config.apiKey","timeline.queue.length"])),getUserId:w(e.getUserId.bind(e),"getUserId",y(e),b(e,["config","config.userId"])),setUserId:w(e.setUserId.bind(e),"setUserId",y(e),b(e,["config","config.userId"])),getDeviceId:w(e.getDeviceId.bind(e),"getDeviceId",y(e),b(e,["config","config.deviceId"])),setDeviceId:w(e.setDeviceId.bind(e),"setDeviceId",y(e),b(e,["config","config.deviceId"])),reset:w(e.reset.bind(e),"reset",y(e),b(e,["config","config.userId","config.deviceId"])),getSessionId:w(e.getSessionId.bind(e),"getSessionId",y(e),b(e,["config"])),setSessionId:w(e.setSessionId.bind(e),"setSessionId",y(e),b(e,["config"])),extendSession:w(e.extendSession.bind(e),"extendSession",y(e),b(e,["config"])),setOptOut:w(e.setOptOut.bind(e),"setOptOut",y(e),b(e,["config"])),setTransport:w(e.setTransport.bind(e),"setTransport",y(e),b(e,["config"]))}}();!function(e){e.US="US",e.EU="EU",e.STAGING="STAGING"}(p||(p={}));var no=ni.add,ns=(ni.extendSession,ni.flush,ni.getDeviceId,ni.getSessionId,ni.getUserId,ni.groupIdentify,ni.identify),na=ni.init,nu=(ni.logEvent,ni.remove,ni.reset),nc=(ni.revenue,ni.setDeviceId,ni.setGroup,ni.setOptOut,ni.setSessionId,ni.setTransport,ni.setUserId),nl=ni.track;!function(e){e.IdentifyOperation=s,e.SpecialEventType=a,e.RevenueProperty=o,e.LogLevel=n,e.ServerZone=p,e.OfflineDisabled=null,e.DEFAULT_CSS_SELECTOR_ALLOWLIST=tf,e.DEFAULT_DATA_ATTRIBUTE_PREFIX=td,e.DEFAULT_ACTION_CLICK_ALLOWLIST=th}(v||(v={}))},11685:(e,t,r)=>{"use strict";r.d(t,{i:()=>d});var n=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:i(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),i=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},o=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}"function"==typeof SuppressedError&&SuppressedError;var c=function(e,t){var r,n,i=typeof e;if(i!==typeof t)return!1;try{for(var o=a(["string","number","boolean","undefined"]),s=o.next();!s.done;s=o.next())if(s.value===i)return e===t}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var u=Array.isArray(e),l=Array.isArray(t);if(u!==l)return!1;if(u&&l){for(var f=0;f<e.length;f++)if(!c(e[f],t[f]))return!1}else{if(!c(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var d=!0;return Object.keys(e).forEach(function(r){c(e[r],t[r])||(d=!1)}),d}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var l=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=s({},this.identity.userProperties),r=s(s({},this.identity),{userProperties:t});return{setUserId:function(e){return r.userId=e,this},setDeviceId:function(e){return r.deviceId=e,this},setUserProperties:function(e){return r.userProperties=e,this},setOptOut:function(e){return r.optOut=e,this},updateUserProperties:function(e){var t,n,i,o,s,c,l=r.userProperties||{};try{for(var f=a(Object.entries(e)),d=f.next();!d.done;d=f.next()){var h=u(d.value,2),p=h[0],v=h[1];switch(p){case"$set":try{for(var g=(i=void 0,a(Object.entries(v))),y=g.next();!y.done;y=g.next()){var m=u(y.value,2),b=m[0],w=m[1];l[b]=w}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}break;case"$unset":try{for(var S=(s=void 0,a(Object.keys(v))),E=S.next();!E.done;E=S.next()){var b=E.value;delete l[b]}}catch(e){s={error:e}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}break;case"$clearAll":l={}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return r.userProperties=l,this},commit:function(){return e.setIdentity(r),this}}},e.prototype.getIdentity=function(){return s({},this.identity)},e.prototype.setIdentity=function(e){var t=s({},this.identity);this.identity=s({},e),c(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),f="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:self,d=function(){function e(){this.identityStore=new l,this.eventBridge=new o,this.applicationContextProvider=new n}return e.getInstance=function(t){return f.analyticsConnectorInstances||(f.analyticsConnectorInstances={}),f.analyticsConnectorInstances[t]||(f.analyticsConnectorInstances[t]=new e),f.analyticsConnectorInstances[t]},e}()},47059:(e,t,r)=>{"use strict";r.d(t,{Se:()=>u,T$:()=>a});var n,i=r(13516),o=r(45498),s=r(83989),a=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,i.Cl)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(n.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(n.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(n.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(n.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(n.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(n.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(n.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(n.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(n.UNSET,e,o.mG),this},e.prototype.clearAll=function(){return this._properties={},this._properties[n.CLEAR_ALL]=o.mG,this},e.prototype._safeSet=function(e,t,r){if(this._validate(e,t,r)){var n=this._properties[e];return void 0===n&&(n={},this._properties[e]=n),n[t]=r,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,r){return!(void 0!==this._properties[n.CLEAR_ALL]||this._propertySet.has(t))&&(e===n.ADD?"number"==typeof r:e===n.UNSET||e===n.REMOVE||(0,s.E)(t,r))},e}();!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(n||(n={}));var u=[n.CLEAR_ALL,n.UNSET,n.SET,n.SET_ONCE,n.ADD,n.APPEND,n.PREPEND,n.PREINSERT,n.POSTINSERT,n.REMOVE]},45498:(e,t,r)=>{"use strict";r.d(t,{OP:()=>c,bu:()=>a,fS:()=>o,mG:()=>n,mJ:()=>s,pL:()=>u,r:()=>i});var n="-",i="AMP",o="".concat(i,"_unsent"),s="https://api2.amplitude.com/2/httpapi",a="https://api.eu.amplitude.com/2/httpapi",u="https://api2.amplitude.com/batch",c="https://api.eu.amplitude.com/batch"},83989:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,a:()=>i});var n=r(13516),i=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var r=e[t];if(!o(t,r))return!1}return!0},o=function(e,t){var r,o;if("string"!=typeof e)return!1;if(Array.isArray(t)){var s=!0;try{for(var a=(0,n.Ju)(t),u=a.next();!u.done;u=a.next()){var c=u.value;if(Array.isArray(c))return!1;if("object"==typeof c)s=s&&i(c);else if(!["number","string"].includes(typeof c))return!1;if(!s)return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}}else if(null==t)return!1;else if("object"==typeof t)return i(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}},32693:(e,t,r)=>{"use strict";r.d(t,{aj:()=>e0});var n,i,o=r(91299).hp,s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function h(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var p={IS:"is",IS_NOT:"is not",CONTAINS:"contains",DOES_NOT_CONTAIN:"does not contain",LESS_THAN:"less",LESS_THAN_EQUALS:"less or equal",GREATER_THAN:"greater",GREATER_THAN_EQUALS:"greater or equal",VERSION_LESS_THAN:"version less",VERSION_LESS_THAN_EQUALS:"version less or equal",VERSION_GREATER_THAN:"version greater",VERSION_GREATER_THAN_EQUALS:"version greater or equal",SET_IS:"set is",SET_IS_NOT:"set is not",SET_CONTAINS:"set contains",SET_DOES_NOT_CONTAIN:"set does not contain",SET_CONTAINS_ANY:"set contains any",SET_DOES_NOT_CONTAIN_ANY:"set does not contain any",REGEX_MATCH:"regex match",REGEX_DOES_NOT_MATCH:"regex does not match"},v=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return Uint8Array.from(t)},g=function(e,t){void 0===t&&(t=0);for(var r=v(e),n=r.length,i=n>>2,o=t,s=0;s<i;s++)o=y(w(r,s<<2),o);var a=i<<2,u=0;switch(n-a){case 3:u^=r[a+2]<<16,u^=r[a+1]<<8,u^=r[a],o^=u=Math.imul(u=b(u=Math.imul(u,-0x3361d2af),15),0x1b873593);break;case 2:u^=r[a+1]<<8,u^=r[a],o^=u=Math.imul(u=b(u=Math.imul(u,-0x3361d2af),15),0x1b873593);break;case 1:u^=r[a],o^=u=Math.imul(u=b(u=Math.imul(u,-0x3361d2af),15),0x1b873593)}return m(o^=n)>>>0},y=function(e,t){var r=e,n=t;return n^=r=Math.imul(r=b(r=Math.imul(r,-0x3361d2af),15),0x1b873593),(n=Math.imul(n=b(n,13),5))+-0x19ab949c|0},m=function(e){var t=e;return t^=t>>>16,t=Math.imul(t,-0x7a143595),t^=t>>>13,t=Math.imul(t,-0x3d4d51cb),t^=t>>>16},b=function(e,t,r){void 0===r&&(r=32),t>r&&(t%=r);var n=(e&0xffffffff<<r-t>>>0)>>>0>>>r-t>>>0;return(e<<t|n)>>>0},w=function(e,t){return void 0===t&&(t=0),S(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},S=function(e){return(-0x1000000&e)>>>24|(0xff0000&e)>>>8|(65280&e)<<8|(255&e)<<24},E=function(e,t){var r,n;if(t&&0!==t.length){try{for(var i=f(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s||!e||"object"!=typeof e)return;e=e[s]}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}if(e)return e}},_="^".concat("(\\d+)\\.(\\d+)","(\\.").concat("(\\d+)").concat("(-(([-\\w]+\\.?)*))?",")?$"),I=function(){function e(e,t,r,n){void 0===n&&(n=void 0),this.major=e,this.minor=t,this.patch=r,this.preRelease=n}return e.parse=function(t){if(t){var r=new RegExp(_).exec(t);if(r){var n=Number(r[1]),i=Number(r[2]);if(!(isNaN(n)||isNaN(i)))return new e(n,i,Number(r[4])||0,r[5]||void 0)}}},e.prototype.compareTo=function(e){if(this.major>e.major)return 1;if(this.major<e.major)return -1;if(this.minor>e.minor)return 1;if(this.minor<e.minor)return -1;if(this.patch>e.patch)return 1;if(this.patch<e.patch||this.preRelease&&!e.preRelease)return -1;if(!this.preRelease&&e.preRelease)return 1;if(this.preRelease&&e.preRelease){if(this.preRelease>e.preRelease)return 1;if(this.preRelease<e.preRelease)return -1}return 0},e}(),T=function(){function e(){}return e.prototype.evaluate=function(e,t){var r,n,i={},o={context:e,result:i};try{for(var s=f(t),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.evaluateFlag(o,u);c&&(i[u.key]=c)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},e.prototype.evaluateFlag=function(e,t){try{for(var r,n,i,o=f(t.segments),s=o.next();!s.done;s=o.next()){var a=s.value;if(i=this.evaluateSegment(e,t,a)){var c=u(u(u({},t.metadata),a.metadata),i.metadata);i=u(u({},i),{metadata:c});break}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.evaluateSegment=function(e,t,r){if(!r.conditions){var n=this.bucket(e,r);return void 0!==n?t.variants[n]:void 0}if(this.evaluateConditions(e,r.conditions)){var n=this.bucket(e,r);if(void 0!==n)return t.variants[n]}},e.prototype.evaluateConditions=function(e,t){var r,n,i,o;try{for(var s=f(t),a=s.next();!a.done;a=s.next()){var u=a.value,c=!0;try{for(var l=(i=void 0,f(u)),d=l.next();!d.done;d=l.next()){var h=d.value;if(!(c=this.matchCondition(e,h)))break}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(c)return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},e.prototype.matchCondition=function(e,t){var r=E(e,t.selector);if(!r)return this.matchNull(t.op,t.values);if(this.isSetOperator(t.op)){var n=this.coerceStringArray(r);return!!n&&this.matchSet(n,t.op,t.values)}var i=this.coerceString(r);return void 0!==i&&this.matchString(i,t.op,t.values)},e.prototype.getHash=function(e){return g(e)},e.prototype.bucket=function(e,t){if(!t.bucket)return t.variant;var r,n,i,o,s=this.coerceString(E(e,t.bucket.selector));if(!s||0===s.length)return t.variant;var a="".concat(t.bucket.salt,"/").concat(s),u=this.getHash(a),c=u%100,l=Math.floor(u/100);try{for(var d=f(t.bucket.allocations),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.range[0],g=p.range[1];if(c>=v&&c<g)try{for(var y=(i=void 0,f(p.distributions)),m=y.next();!m.done;m=y.next()){var b=m.value,w=b.range[0],S=b.range[1];if(l>=w&&l<S)return b.variant}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return t.variant},e.prototype.matchNull=function(e,t){var r=this.containsNone(t);switch(e){case p.IS:case p.CONTAINS:case p.LESS_THAN:case p.LESS_THAN_EQUALS:case p.GREATER_THAN:case p.GREATER_THAN_EQUALS:case p.VERSION_LESS_THAN:case p.VERSION_LESS_THAN_EQUALS:case p.VERSION_GREATER_THAN:case p.VERSION_GREATER_THAN_EQUALS:case p.SET_IS:case p.SET_CONTAINS:case p.SET_CONTAINS_ANY:return r;case p.IS_NOT:case p.DOES_NOT_CONTAIN:case p.SET_DOES_NOT_CONTAIN:case p.SET_DOES_NOT_CONTAIN_ANY:return!r;default:return!1}},e.prototype.matchSet=function(e,t,r){switch(t){case p.SET_IS:return this.setEquals(e,r);case p.SET_IS_NOT:return!this.setEquals(e,r);case p.SET_CONTAINS:return this.matchesSetContainsAll(e,r);case p.SET_DOES_NOT_CONTAIN:return!this.matchesSetContainsAll(e,r);case p.SET_CONTAINS_ANY:return this.matchesSetContainsAny(e,r);case p.SET_DOES_NOT_CONTAIN_ANY:return!this.matchesSetContainsAny(e,r);default:return!1}},e.prototype.matchString=function(e,t,r){var n=this;switch(t){case p.IS:return this.matchesIs(e,r);case p.IS_NOT:return!this.matchesIs(e,r);case p.CONTAINS:return this.matchesContains(e,r);case p.DOES_NOT_CONTAIN:return!this.matchesContains(e,r);case p.LESS_THAN:case p.LESS_THAN_EQUALS:case p.GREATER_THAN:case p.GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(e){return n.parseNumber(e)},this.comparator);case p.VERSION_LESS_THAN:case p.VERSION_LESS_THAN_EQUALS:case p.VERSION_GREATER_THAN:case p.VERSION_GREATER_THAN_EQUALS:return this.matchesComparable(e,t,r,function(e){return I.parse(e)},this.versionComparator);case p.REGEX_MATCH:return this.matchesRegex(e,r);case p.REGEX_DOES_NOT_MATCH:return!this.matchesRegex(e,r);default:return!1}},e.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var r=e.toLowerCase();if("true"===r||"false"===r)return t.some(function(e){return e.toLowerCase()===r})}return t.some(function(t){return e===t})},e.prototype.matchesContains=function(e,t){var r,n;try{for(var i=f(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.toLowerCase().includes(s.toLowerCase()))return!0}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.matchesComparable=function(e,t,r,n,i){var o=this,s=n(e),a=r.map(function(e){return n(e)}).filter(function(e){return void 0!==e});return void 0===s||0===a.length?r.some(function(r){return o.comparator(e,t,r)}):a.some(function(e){return i(s,t,e)})},e.prototype.comparator=function(e,t,r){switch(t){case p.LESS_THAN:case p.VERSION_LESS_THAN:return e<r;case p.LESS_THAN_EQUALS:case p.VERSION_LESS_THAN_EQUALS:return e<=r;case p.GREATER_THAN:case p.VERSION_GREATER_THAN:return e>r;case p.GREATER_THAN_EQUALS:case p.VERSION_GREATER_THAN_EQUALS:return e>=r;default:return!1}},e.prototype.versionComparator=function(e,t,r){var n=e.compareTo(r);switch(t){case p.LESS_THAN:case p.VERSION_LESS_THAN:return n<0;case p.LESS_THAN_EQUALS:case p.VERSION_LESS_THAN_EQUALS:return n<=0;case p.GREATER_THAN:case p.VERSION_GREATER_THAN:return n>0;case p.GREATER_THAN_EQUALS:case p.VERSION_GREATER_THAN_EQUALS:return n>=0;default:return!1}},e.prototype.matchesRegex=function(e,t){return t.some(function(t){return!!new RegExp(t).exec(e)})},e.prototype.containsNone=function(e){return e.some(function(e){return"(none)"===e})},e.prototype.containsBooleans=function(e){return e.some(function(e){switch(e.toLowerCase()){case"true":case"false":return!0;default:return!1}})},e.prototype.parseNumber=function(e){var t;return null!==(t=Number(e))&&void 0!==t?t:void 0},e.prototype.coerceString=function(e){return null==e?void 0:"object"==typeof e?JSON.stringify(e):String(e)},e.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e)){var r=e;return r.map(function(e){return t.coerceString(e)}).filter(Boolean)}var n=String(e);try{var i=JSON.parse(n);if(Array.isArray(i)){var r=e;return r.map(function(e){return t.coerceString(e)}).filter(Boolean)}var o=this.coerceString(n);return o?[o]:void 0}catch(e){var o=this.coerceString(n);return o?[o]:void 0}},e.prototype.isSetOperator=function(e){switch(e){case p.SET_IS:case p.SET_IS_NOT:case p.SET_CONTAINS:case p.SET_DOES_NOT_CONTAIN:case p.SET_CONTAINS_ANY:case p.SET_DOES_NOT_CONTAIN_ANY:return!0;default:return!1}},e.prototype.setEquals=function(e,t){var r=new Set(e),n=new Set(t);return r.size===n.size&&h([],d(n),!1).every(function(e){return r.has(e)})},e.prototype.matchesSetContainsAll=function(e,t){var r,n;if(e.length<t.length)return!1;try{for(var i=f(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!this.matchesIs(s,e))return!1}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0},e.prototype.matchesSetContainsAny=function(e,t){var r,n;try{for(var i=f(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.matchesIs(s,e))return!0}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e}(),A=function(e,t){var r,n,i=u({},e),o=[],s=t||Object.keys(i);try{for(var a=f(s),c=a.next();!c.done;c=a.next()){var l=c.value,p=k(l,i);p&&o.push.apply(o,h([],d(p),!1))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},k=function(e,t,r){void 0===r&&(r=[]);var n,i,o=t[e];if(o){if(!o.dependencies||0===o.dependencies.length)return delete t[o.key],[o];r.push(o.key);var s=[],a=function(e){if(r.some(function(t){return t===e}))throw Error("Detected a cycle between flags ".concat(r));var n=k(e,t,r);n&&s.push.apply(s,h([],d(n),!1))};try{for(var u=f(o.dependencies),c=u.next();!c.done;c=u.next()){var l=c.value;a(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s.push(o),r.pop(),delete t[o.key],s}};let x="function"==typeof atob,C="function"==typeof btoa,O="function"==typeof o,P="function"==typeof TextDecoder?new TextDecoder:void 0,N="function"==typeof TextEncoder?new TextEncoder:void 0,R=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),U=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(R),L=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,M=String.fromCharCode.bind(String),H="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),D=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),F=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),j=C?e=>btoa(e):O?e=>o.from(e,"binary").toString("base64"):e=>{let t,r,n,i,o="",s=e.length%3;for(let s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw TypeError("invalid character found");o+=R[(t=r<<16|n<<8|i)>>18&63]+R[t>>12&63]+R[t>>6&63]+R[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},V=O?e=>o.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(M.apply(null,e.subarray(r,r+4096)));return j(t.join(""))},q=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?M(192|t>>>6)+M(128|63&t):M(224|t>>>12&15)+M(128|t>>>6&63)+M(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return M(240|t>>>18&7)+M(128|t>>>12&63)+M(128|t>>>6&63)+M(128|63&t)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Y=e=>e.replace(B,q),z=O?e=>o.from(e,"utf8").toString("base64"):N?e=>V(N.encode(e)):e=>j(Y(e)),K=(e,t=!1)=>t?D(z(e)):z(e),$=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,G=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return M((t>>>10)+55296)+M((1023&t)+56320);case 3:return M((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return M((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},J=e=>e.replace($,G),Q=x?e=>atob(F(e)):O?e=>o.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!L.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r="",n,i;for(let o=0;o<e.length;)t=U[e.charAt(o++)]<<18|U[e.charAt(o++)]<<12|(n=U[e.charAt(o++)])<<6|(i=U[e.charAt(o++)]),r+=64===n?M(t>>16&255):64===i?M(t>>16&255,t>>8&255):M(t>>16&255,t>>8&255,255&t);return r},W=O?e=>H(o.from(e,"base64")):e=>H(Q(e).split("").map(e=>e.charCodeAt(0))),X=O?e=>o.from(e,"base64").toString("utf8"):P?e=>P.decode(W(e)):e=>J(Q(e)),Z=e=>F(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),ee={encodeURL:e=>K(e,!0)};var et=function(e){function t(r,n){var i=e.call(this,n)||this;return i.statusCode=r,Object.setPrototypeOf(i,t.prototype),i}return a(t,e),t}(Error),er=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return a(t,e),t}(Error),en=function(){function e(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return e.prototype.getVariants=function(e,t){return c(this,void 0,void 0,function(){var r,n,i,o;return l(this,function(s){switch(s.label){case 0:return r=ee.encodeURL(JSON.stringify(e)),n={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":r},(null==t?void 0:t.flagKeys)&&(n["X-Amp-Exp-Flag-Keys"]=ee.encodeURL(JSON.stringify(t.flagKeys))),(null==t?void 0:t.trackingOption)&&(n["X-Amp-Exp-Track"]=t.trackingOption),i=new URL("".concat(this.serverUrl,"/sdk/v2/vardata?v=0")),(null==t?void 0:t.evaluationMode)&&i.searchParams.append("eval_mode",null==t?void 0:t.evaluationMode),(null==t?void 0:t.deliveryMethod)&&i.searchParams.append("delivery_method",null==t?void 0:t.deliveryMethod),[4,this.httpClient.request({requestUrl:i.toString(),method:"GET",headers:n,timeoutMillis:null==t?void 0:t.timeoutMillis})];case 1:if(200!=(o=s.sent()).status)throw new et(o.status,"Fetch error response: status=".concat(o.status));return[2,JSON.parse(o.body)]}})})},e}(),ei=function(){function e(e,t,r){this.deploymentKey=e,this.serverUrl=t,this.httpClient=r}return e.prototype.getFlags=function(e){return c(this,void 0,void 0,function(){var t,r;return l(this,function(n){switch(n.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},(null==e?void 0:e.libraryName)&&(null==e?void 0:e.libraryVersion)&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),(null==e?void 0:e.user)&&(t["X-Amp-Exp-User"]=ee.encodeURL(JSON.stringify(e.user))),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags")+((null==e?void 0:e.deliveryMethod)?"?delivery_method=".concat(e.deliveryMethod):""),method:"GET",headers:t,timeoutMillis:null==e?void 0:e.timeoutMillis})];case 1:if(200!=(r=n.sent()).status)throw Error("Flags error response: status=".concat(r.status));return[2,JSON.parse(r.body).reduce(function(e,t){return e[t.key]=t,e},{})]}})})},e}(),eo="undefined"!=typeof globalThis?globalThis:r.g||self,es=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0},ea=function(){var e=es();if(e)try{var t="EXP_test";return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(e){}return!1},eu=function(){function e(e,t){this.poller=void 0,this.action=e,this.ms=t}return e.prototype.start=function(){this.poller||(this.poller=eo.setInterval(this.action,this.ms),this.action())},e.prototype.stop=function(){this.poller&&(eo.clearInterval(this.poller),this.poller=void 0)},e}(),ec=r(11685),el=r(40100);(function(){function e(e){this.amplitudeInstance=e}e.prototype.getUser=function(){var e,t,r,n,i,o,s,a,u,c;return{device_id:null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e.options)||void 0===t?void 0:t.deviceId,user_id:null===(n=null===(r=this.amplitudeInstance)||void 0===r?void 0:r.options)||void 0===n?void 0:n.userId,version:null===(o=null===(i=this.amplitudeInstance)||void 0===i?void 0:i.options)||void 0===o?void 0:o.versionName,language:null===(a=null===(s=this.amplitudeInstance)||void 0===s?void 0:s.options)||void 0===a?void 0:a.language,platform:null===(c=null===(u=this.amplitudeInstance)||void 0===u?void 0:u.options)||void 0===c?void 0:c.platform,os:this.getOs(),device_model:this.getDeviceModel()}},e.prototype.getOs=function(){var e,t,r,n,i,o;return[null===(r=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.browser)||void 0===r?void 0:r.name,null===(o=null===(i=null===(n=this.amplitudeInstance)||void 0===n?void 0:n._ua)||void 0===i?void 0:i.browser)||void 0===o?void 0:o.major].filter(function(e){return null!=e}).join(" ")},e.prototype.getDeviceModel=function(){var e,t,r;return null===(r=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.os)||void 0===r?void 0:r.name}})(),function(){function e(e){this.amplitudeInstance=e}e.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},e.prototype.setUserProperty=function(e){var t,r;this.amplitudeInstance.setUserProperties(((t={})[e.userProperty]=null===(r=e.variant)||void 0===r?void 0:r.value,t))},e.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:((t={})[e.userProperty]="-",t)})}}();var ef=function(){return(ef=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ed(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function eh(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function ep(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ev(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function eg(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ey=function(e,t){void 0===t&&(t=!1);var r,n,i=ew(e,t),o=void 0,s=eo.document.cookie.split("; ");try{for(var a=ep(s),u=a.next();!u.done;u=a.next()){var c=u.value,l=ev(c.split("=",2),2),f=l[0],d=l[1];f===i&&(o=decodeURIComponent(d))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(o)try{if(t){var h=atob(o);return JSON.parse(decodeURIComponent(h))}var p=o.split("."),v=void 0;return p.length>=2&&p[1]&&(v=atob(p[1])),{deviceId:p[0],userId:v}}catch(e){return}},em=function(e){var t=ew(e,!0);try{var r=eo.localStorage.getItem(t);if(!r)return;var n=JSON.parse(r);if("object"!=typeof n)return;return n}catch(e){return}},eb=function(e){var t=ew(e,!0);try{var r=eo.sessionStorage.getItem(t);if(!r)return;var n=JSON.parse(r);if("object"!=typeof n)return;return n}catch(e){return}},ew=function(e,t){if(t){if((null==e?void 0:e.length)<10)return;return"AMP_".concat(e.substring(0,10))}if(!((null==e?void 0:e.length)<6))return"amp_".concat(e.substring(0,6))},eS=function(){function e(e,t,r){this.type="integration",this.apiKey=e,this.identityStore=t.identityStore,this.eventBridge=t.eventBridge,this.contextProvider=t.applicationContextProvider,this.timeoutMillis=r,this.loadPersistedState(),r<=0&&(this.setup=void 0)}return e.prototype.setup=function(e,t){return ed(this,void 0,void 0,function(){return eh(this,function(r){return(null==e?void 0:e.automaticFetchOnAmplitudeIdentityChange)&&this.identityStore.addIdentityListener(function(){null==t||t.fetch()}),[2,this.waitForConnectorIdentity(this.timeoutMillis)]})})},e.prototype.getUser=function(){var e=this.identityStore.getIdentity();return{user_id:e.userId,device_id:e.deviceId,user_properties:e.userProperties,version:this.contextProvider.versionName}},e.prototype.track=function(e){return!!this.eventBridge.receiver&&(this.eventBridge.logEvent({eventType:e.eventType,eventProperties:e.eventProperties}),!0)},e.prototype.loadPersistedState=function(){if(!this.apiKey||this.apiKey.startsWith("client-"))return!1;var e=ey(this.apiKey,!0);return!!(e||(e=ey(this.apiKey,!1))||(e=em(this.apiKey))||(e=eb(this.apiKey)))&&(this.commitIdentityToConnector(e),!0)},e.prototype.commitIdentityToConnector=function(e){var t=this.identityStore.editIdentity();t.setDeviceId(e.deviceId),e.userId&&t.setUserId(e.userId),t.commit()},e.prototype.waitForConnectorIdentity=function(e){return ed(this,void 0,void 0,function(){var t,r=this;return eh(this,function(n){return(t=this.identityStore.getIdentity()).userId||t.deviceId?[2]:[2,Promise.race([new Promise(function(e){var t=function(){e(),r.identityStore.removeIdentityListener(t)};r.identityStore.addIdentityListener(t)}),new Promise(function(t,r){eo.setTimeout(r,e,"Timed out waiting for Amplitude Analytics SDK to initialize.")})])]})})},e}(),eE=eo.fetch||function(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){o.push(t=t.toLowerCase()),s.push([t,r]),a[t]=a[t]?a[t]+","+r:r}),r(u())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})},e_=function(){function e(e){this.client=e}return e.prototype.request=function(e){return ed(this,void 0,void 0,function(){return eh(this,function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}})})},e}(),eI={request:function(e,t,r,n,i){var o;return o=ed(void 0,void 0,void 0,function(){var i,o;return eh(this,function(s){switch(s.label){case 0:return[4,eE(e,{method:t,headers:r,body:n})];case 1:return o={status:(i=s.sent()).status},[4,i.text()];case 2:return o.body=s.sent(),[2,o]}})}),null==i||i<=0?o:new Promise(function(e,t){eo.setTimeout(function(){t(new er("Request timeout after "+i+" milliseconds"))},i),o.then(e,t)})}};!function(e){e.LocalStorage="localStorage",e.InitialVariants="initialVariants"}(n||(n={})),function(e){e.LocalStorage="storage",e.InitialVariants="initial",e.SecondaryLocalStorage="secondary-storage",e.SecondaryInitialVariants="secondary-initial",e.FallbackInline="fallback-inline",e.FallbackConfig="fallback-config",e.LocalEvaluation="local-evaluation"}(i||(i={}));var eT=function(e){return!e||e===i.FallbackInline||e===i.FallbackConfig||e===i.SecondaryInitialVariants},eA={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:n.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,automaticExposureTracking:!0,pollOnStart:!0,flagConfigPollingIntervalMillis:3e5,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:eI},ek="1.15.6",ex=function(){function e(e,t){var r,n=this;this.isReady=new Promise(function(e){n.resolve=e}),this.config=e,this.client=t;var i=null!==(r=e.instanceName)&&void 0!==r?r:eA.instanceName;this.queue=new eO(i),this.cache=new eC(i)}return e.prototype.ready=function(){return this.integration?this.isReady:Promise.resolve()},e.prototype.setIntegration=function(e){var t=this;this.integration&&this.integration.teardown&&this.integration.teardown(),this.integration=e,e.setup?this.integration.setup(this.config,this.client).then(function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()},function(){t.queue.setTracker(t.integration.track.bind(e)),t.resolve()}):(this.queue.setTracker(this.integration.track.bind(e)),this.resolve())},e.prototype.getUser=function(){return this.integration?this.integration.getUser():{}},e.prototype.track=function(e){if(this.cache.shouldTrack(e)){var t=this.getExposureEvent(e);this.queue.push(t)}},e.prototype.getExposureEvent=function(e){var t,r,n,i={eventType:"$exposure",eventProperties:e};return(null===(t=e.metadata)||void 0===t?void 0:t.exposureEvent)?i={eventType:null===(r=e.metadata)||void 0===r?void 0:r.exposureEvent,eventProperties:e}:(null===(n=e.metadata)||void 0===n?void 0:n.deliveryMethod)==="web"&&(i={eventType:"$impression",eventProperties:e}),i},e}(),eC=function(){function e(e){this.isSessionStorageAvailable=eP(),this.inMemoryCache={},this.storageKey="EXP_sent_v2_".concat(e),this.isSessionStorageAvailable&&eo.sessionStorage.removeItem("EXP_sent_".concat(e))}return e.prototype.shouldTrack=function(e){if((null===(t=e.metadata)||void 0===t?void 0:t.deliveryMethod)==="web")return!0;this.loadCache();var t,r=this.inMemoryCache[e.flag_key],n=!1;return r&&r.variant===e.variant||(n=!0,this.inMemoryCache[e.flag_key]=e),this.storeCache(),n},e.prototype.loadCache=function(){if(this.isSessionStorageAvailable){var e=eo.sessionStorage.getItem(this.storageKey);this.inMemoryCache=e?JSON.parse(e):{}}},e.prototype.storeCache=function(){this.isSessionStorageAvailable&&eo.sessionStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryCache))},e}(),eO=function(){function e(e,t){void 0===t&&(t=512),this.isLocalStorageAvailable=ea(),this.inMemoryQueue=[],this.storageKey="EXP_unsent_".concat(e),this.maxQueueSize=t}return e.prototype.push=function(e){this.loadQueue(),this.inMemoryQueue.push(e),this.flush(),this.storeQueue()},e.prototype.setTracker=function(e){var t=this;this.tracker=e,this.poller=eo.setInterval(function(){t.loadFlushStore()},1e3),this.loadFlushStore()},e.prototype.flush=function(){var e,t;if(this.tracker&&0!==this.inMemoryQueue.length){try{for(var r=ep(this.inMemoryQueue),n=r.next();!n.done;n=r.next()){var i=n.value;try{if(!this.tracker(i))return}catch(e){return}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.inMemoryQueue=[],this.poller&&(eo.clearInterval(this.poller),this.poller=void 0)}},e.prototype.loadQueue=function(){if(this.isLocalStorageAvailable){var e=eo.localStorage.getItem(this.storageKey);this.inMemoryQueue=e?JSON.parse(e):[]}},e.prototype.storeQueue=function(){this.isLocalStorageAvailable&&(this.inMemoryQueue.length>this.maxQueueSize&&(this.inMemoryQueue=this.inMemoryQueue.slice(this.inMemoryQueue.length-this.maxQueueSize)),eo.localStorage.setItem(this.storageKey,JSON.stringify(this.inMemoryQueue)))},e.prototype.loadFlushStore=function(){this.loadQueue(),this.flush(),this.storeQueue()},e}(),eP=function(){var e=es();if(e)try{var t="EXP_test";return e.sessionStorage.setItem(t,t),e.sessionStorage.removeItem(t),!0}catch(e){}return!1},eN=function(){function e(){this.globalScope=es()}return e.prototype.get=function(e){var t;return null===(t=this.globalScope)||void 0===t?void 0:t.localStorage.getItem(e)},e.prototype.put=function(e,t){var r;null===(r=this.globalScope)||void 0===r||r.localStorage.setItem(e,t)},e.prototype.delete=function(e){var t;null===(t=this.globalScope)||void 0===t||t.localStorage.removeItem(e)},e}(),eR=function(e,t,r){var n=e.substring(e.length-6);return new eL("amp-exp-".concat(t,"-").concat(n),r,eM)},eU=function(e,t,r){void 0===r&&(r=new eN);var n=e.substring(e.length-6);return new eL("amp-exp-".concat(t,"-").concat(n,"-flags"),r)},eL=function(){function e(e,t,r){this.cache={},this.namespace=e,this.storage=t,this.transformer=r}return e.prototype.get=function(e){return this.cache[e]},e.prototype.getAll=function(){return ef({},this.cache)},e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.putAll=function(e){var t,r;try{for(var n=ep(Object.keys(e)),i=n.next();!i.done;i=n.next()){var o=i.value;this.cache[o]=e[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.clear=function(){this.cache={}},e.prototype.load=function(){var e,t,r,n=this.storage.get(this.namespace);try{r=JSON.parse(n)||{}}catch(e){return}var i={};try{for(var o=ep(Object.keys(r)),s=o.next();!s.done;s=o.next()){var a=s.value;try{var u=void 0;(u=this.transformer?this.transformer(r[a]):r[a])&&(i[a]=u)}catch(e){}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.clear(),this.putAll(i)},e.prototype.store=function(e){void 0===e&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},e}(),eM=function(e){if("string"==typeof e)return{key:e,value:e};if("object"==typeof e){var t=e.key,r=e.value,n=e.payload,i=e.metadata,o=e.expKey;i&&i.experimentKey?o=i.experimentKey:o&&((i=i||{}).experimentKey=o);var s={};return t?s.key=t:r&&(s.key=r),r&&(s.value=r),i&&(s.metadata=i),n&&(s.payload=n),o&&(s.expKey=o),s}},eH=function(){function e(){this.globalScope=es()}return e.prototype.get=function(e){var t;return null===(t=this.globalScope)||void 0===t?void 0:t.sessionStorage.getItem(e)},e.prototype.put=function(e,t){var r;null===(r=this.globalScope)||void 0===r||r.sessionStorage.setItem(e,t)},e.prototype.delete=function(e){var t;null===(t=this.globalScope)||void 0===t||t.sessionStorage.removeItem(e)},e}(),eD=function(e,t,r,n){var i,o=null==r?void 0:r.value,s="[Experiment] ".concat(t);return{name:"[Experiment] Exposure",user:e,key:t,variant:r,userProperty:s,properties:{key:t,variant:o,source:n},userProperties:((i={})[s]=o,i)}},eF=function(e){return null==e},ej=function(e){return!!eF(e)||e&&0===Object.keys(e).length},eV=function(e){var t;return(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.evaluationMode)==="local"},eq=function(){function e(e,t,r,n){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=r,this.scalar=n}return e.prototype.start=function(e){return ed(this,void 0,void 0,function(){return eh(this,function(t){switch(t.label){case 0:if(this.started)throw Error("Backoff already started");return this.started=!0,[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}})})},e.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},e.prototype.backoff=function(e,t,r){return ed(this,void 0,void 0,function(){var n=this;return eh(this,function(i){return this.done||(this.timeoutHandle=eo.setTimeout(function(){return ed(n,void 0,void 0,function(){var n,i;return eh(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e()];case 1:return o.sent(),[3,3];case 2:return o.sent(),(n=t+1)<this.attempts&&(i=Math.min(r*this.scalar,this.max),this.backoff(e,n,i)),[3,3];case 3:return[2]}})})},r)),[2]})})},e}(),eB=function(e){if(!e)return{};var t,r,n,i,o={user:e},s=es();s&&(o.page={url:s.location.href});var a={};if(!e.groups)return o;try{for(var u=ep(Object.keys(e.groups)),c=u.next();!c.done;c=u.next()){var l=c.value,f=e.groups[l];if(f.length>0&&f[0]){var d=f[0],h={group_name:d},p=null===(i=null===(n=e.group_properties)||void 0===n?void 0:n[l])||void 0===i?void 0:i[d];p&&Object.keys(p).length>0&&(h.group_properties=p),a[l]=h}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return Object.keys(a).length>0&&(o.groups=a),delete o.user.groups,delete o.user.group_properties,o},eY=function(e){return null==e?{}:"string"==typeof e?{key:e,value:e}:e},ez=function(e){if(!e)return{};var t=void 0;e.metadata&&(t=e.metadata.experimentKey);var r={};return e.key&&(r.key=e.key),e.value&&(r.value=e.value),e.payload&&(r.payload=e.payload),t&&(r.expKey=t),e.metadata&&(r.metadata=e.metadata),r},eK=function(){function e(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return e.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},e.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},e.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},e}(),e$=function(){function e(e){this.tracked={},this.exposureTrackingProvider=e}return e.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},e}(),eG=function(){function e(e,t){var r,n,i,o,s,a=this;this.engine=new T,this.isRunning=!1,this.apiKey=e,this.config=ef(ef(ef({},eA),t),{serverUrl:(null==t?void 0:t.serverUrl)||((null===(r=null==t?void 0:t.serverZone)||void 0===r?void 0:r.toLowerCase())==="eu"?"https://api.lab.eu.amplitude.com":eA.serverUrl),flagsServerUrl:(null==t?void 0:t.flagsServerUrl)||((null===(n=null==t?void 0:t.serverZone)||void 0===n?void 0:n.toLowerCase())==="eu"?"https://flag.lab.eu.amplitude.com":eA.flagsServerUrl),flagConfigPollingIntervalMillis:t.flagConfigPollingIntervalMillis<6e4?6e4:null!==(i=t.flagConfigPollingIntervalMillis)&&void 0!==i?i:eA.flagConfigPollingIntervalMillis});var u=null===(o=this.config)||void 0===o?void 0:o.internalInstanceNameSuffix;if(this.isWebExperiment="web"===u,this.poller=new eu(function(){return a.doFlags()},this.config.flagConfigPollingIntervalMillis),this.config.initialVariants)for(var c in this.config.initialVariants)this.config.initialVariants[c]=eM(this.config.initialVariants[c]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new eK(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new e$(this.config.exposureTrackingProvider)),this.integrationManager=new ex(this.config,this);var l=new e_(this.config.httpClient||eI);this.flagApi=new ei(this.apiKey,this.config.flagsServerUrl,l),this.evaluationApi=new en(this.apiKey,this.config.serverUrl,l);var f=u?"".concat(this.config.instanceName,"-").concat(u):this.config.instanceName;s=this.isWebExperiment?new eH:new eN,this.variants=eR(this.apiKey,f,s),this.flags=eU(this.apiKey,f,s);try{this.flags.load(),this.variants.load()}catch(e){}this.mergeInitialFlagsWithStorage()}return e.prototype.start=function(e){var t;return ed(this,void 0,void 0,function(){var r;return eh(this,function(n){switch(n.label){case 0:if(this.isRunning)return[2];if(this.isRunning=!0,this.setUser(e),r=this.doFlags(),!(null===(t=this.config.fetchOnStart)||void 0===t||t))return[3,2];return[4,Promise.all([this.fetch(e),r])];case 1:return n.sent(),[3,4];case 2:return[4,r];case 3:n.sent(),n.label=4;case 4:return this.config.pollOnStart&&this.poller.start(),[2]}})})},e.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},e.prototype.fetch=function(e,t){return void 0===e&&(e=this.user),ed(this,void 0,void 0,function(){var r;return eh(this,function(n){switch(n.label){case 0:this.setUser(e||{}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),this.config.debug&&(r instanceof er?console.debug(r):console.error(r)),[3,4];case 4:return[2,this]}})})},e.prototype.variant=function(e,t){if(!this.apiKey)return{value:void 0};var r,n,i=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,i),this.debug("[Experiment] variant for ".concat(e," is ").concat((null===(r=i.variant)||void 0===r?void 0:r.key)||(null===(n=i.variant)||void 0===n?void 0:n.value))),i.variant||{}},e.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},e.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e)eV(this.flags.get(t))||delete e[t];return ef(ef(ef({},this.secondaryVariants()),this.sourceVariants()),e)},e.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch(e){}},e.prototype.getUser=function(){if(!this.user)return this.user;if(null===(e=this.user)||void 0===e||!e.user_properties)return ef({},this.user);var e,t=ef({},this.user.user_properties);return ef(ef({},this.user),{user_properties:t})},e.prototype.setUser=function(e){var t;if(!e){this.user=null;return}if(null===(t=this.user)||void 0===t?void 0:t.user_properties){var r=ef({},e.user_properties);this.user=ef(ef({},e),{user_properties:r})}else this.user=ef({},e)},e.prototype.getUserProvider=function(){return this.userProvider},e.prototype.setUserProvider=function(e){return this.userProvider=e,this},e.prototype.mergeInitialFlagsWithStorage=function(){var e=this;this.config.initialFlags&&JSON.parse(this.config.initialFlags).forEach(function(t){e.flags.get(t.key)||e.flags.put(t.key,t)})},e.prototype.evaluate=function(e){var t,r,n=this.addContext(this.user),i=A(this.flags.getAll(),e),o=eB(n),s=this.engine.evaluate(o,i),a={};try{for(var u=ep(Object.keys(s)),c=u.next();!c.done;c=u.next()){var l=c.value;a[l]=ez(s[l])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return a},e.prototype.variantAndSource=function(e,t){var r={};this.config.source===n.LocalStorage?r=this.localStorageVariantAndSource(e,t):this.config.source===n.InitialVariants&&(r=this.initialVariantsVariantAndSource(e,t));var i=this.flags.get(e);return(eV(i)||!r.variant&&i)&&(r=this.localEvaluationVariantAndSource(e,i,t)),r},e.prototype.localEvaluationVariantAndSource=function(e,t,r){var n,o={},s=this.evaluate([t.key])[e],a=i.LocalEvaluation,u=null===(n=null==s?void 0:s.metadata)||void 0===n?void 0:n.default;if(!eF(s)&&!u)return{variant:eY(s),source:a,hasDefaultVariant:!1};if(u&&(o={variant:eY(s),source:a,hasDefaultVariant:!0}),!eF(r))return{variant:eY(r),source:i.FallbackInline,hasDefaultVariant:o.hasDefaultVariant};var c=this.config.initialVariants[e];if(!eF(c))return{variant:eY(c),source:i.SecondaryInitialVariants,hasDefaultVariant:o.hasDefaultVariant};var l=eY(this.config.fallbackVariant),f={variant:l,source:i.FallbackConfig,hasDefaultVariant:o.hasDefaultVariant};return ej(l)?o:f},e.prototype.localStorageVariantAndSource=function(e,t){var r,n={},o=this.variants.get(e),s=null===(r=null==o?void 0:o.metadata)||void 0===r?void 0:r.default;if(!eF(o)&&!s)return{variant:eY(o),source:i.LocalStorage,hasDefaultVariant:!1};if(s&&(n={variant:eY(o),source:i.LocalStorage,hasDefaultVariant:!0}),!eF(t))return{variant:eY(t),source:i.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var a=this.config.initialVariants[e];if(!eF(a))return{variant:eY(a),source:i.SecondaryInitialVariants,hasDefaultVariant:n.hasDefaultVariant};var u=eY(this.config.fallbackVariant),c={variant:u,source:i.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return ej(u)?n:c},e.prototype.initialVariantsVariantAndSource=function(e,t){var r,n={},o=this.config.initialVariants[e];if(!eF(o))return{variant:eY(o),source:i.InitialVariants,hasDefaultVariant:!1};var s=this.variants.get(e),a=null===(r=null==s?void 0:s.metadata)||void 0===r?void 0:r.default;if(!eF(s)&&!a)return{variant:eY(s),source:i.LocalStorage,hasDefaultVariant:!1};if(a&&(n={variant:eY(s),source:i.LocalStorage,hasDefaultVariant:!0}),!eF(t))return{variant:eY(t),source:i.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var u=eY(this.config.fallbackVariant),c={variant:u,source:i.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return ej(u)?n:c},e.prototype.fetchInternal=function(e,t,r,n){return ed(this,void 0,void 0,function(){var i,o;return eh(this,function(s){switch(s.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(r)),r&&this.stopRetries(),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this.doFetch(e,t,n)];case 2:return i=s.sent(),[4,this.storeVariants(i,n)];case 3:return s.sent(),[2,i];case 4:throw o=s.sent(),r&&this.shouldRetryFetch(o)&&this.startRetries(e,n),o;case 5:return[2]}})})},e.prototype.cleanUserPropsForFetch=function(e){var t=ef({},e);return delete t.cookie,t},e.prototype.doFetch=function(e,t,r){return ed(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return eh(this,function(l){switch(l.label){case 0:return[4,this.addContextOrWait(e)];case 1:return e=l.sent(),e=this.cleanUserPropsForFetch(e),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,ef({timeoutMillis:t},r))];case 2:n=l.sent(),i={};try{for(s=(o=ep(Object.keys(n))).next();!s.done;s=o.next())i[a=s.value]=ez(n[a])}catch(e){u={error:e}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return this.debug("[Experiment] Received variants: ",i),[2,i]}})})},e.prototype.doFlags=function(){return ed(this,void 0,void 0,function(){var e,t,r;return eh(this,function(n){switch(n.label){case 0:if(n.trys.push([0,4,,5]),e=void 0,!this.isWebExperiment)return[3,2];return[4,this.addContextOrWait(this.getUser())];case 1:e=n.sent(),n.label=2;case 2:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:ek,timeoutMillis:this.config.fetchTimeoutMillis,deliveryMethod:this.isWebExperiment?"web":void 0,user:(null==e?void 0:e.user_id)||(null==e?void 0:e.device_id)?{user_id:null==e?void 0:e.user_id,device_id:null==e?void 0:e.device_id}:void 0})];case 3:return t=n.sent(),this.flags.clear(),this.flags.putAll(t),[3,5];case 4:if((r=n.sent())instanceof er)this.config.debug&&console.debug(r);else throw r;return[3,5];case 5:try{this.flags.store()}catch(e){}return this.mergeInitialFlagsWithStorage(),[2]}})})},e.prototype.storeVariants=function(e,t){return ed(this,void 0,void 0,function(){var r,n,i,o;return eh(this,function(s){for(o in 0===(r=t&&t.flagKeys?t.flagKeys:[]).length&&this.variants.clear(),n=function(t){r=r.filter(function(e){return e!==t}),i.variants.put(t,e[t])},i=this,e)n(o);for(o in r)this.variants.remove(o);try{this.variants.store()}catch(e){}return this.debug("[Experiment] Stored variants: ",e),[2]})})},e.prototype.startRetries=function(e,t){return ed(this,void 0,void 0,function(){var r=this;return eh(this,function(n){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new eq(8,500,1e4,1.5),this.retriesBackoff.start(function(){return ed(r,void 0,void 0,function(){return eh(this,function(r){switch(r.label){case 0:return[4,this.fetchInternal(e,1e4,!1,t)];case 1:return r.sent(),[2]}})})}),[2]})})},e.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},e.prototype.addContext=function(e){var t,r=null===(t=this.userProvider)||void 0===t?void 0:t.getUser(),n=this.integrationManager.getUser(),i=ef(ef(ef({},null==r?void 0:r.user_properties),n.user_properties),null==e?void 0:e.user_properties);return ef(ef(ef(ef({library:"experiment-js-client/".concat(ek)},r),n),e),{user_properties:i})},e.prototype.addContextOrWait=function(e){return ed(this,void 0,void 0,function(){return eh(this,function(t){switch(t.label){case 0:return[4,this.integrationManager.ready()];case 1:return t.sent(),[2,this.addContext(e)]}})})},e.prototype.sourceVariants=function(){return this.config.source==n.LocalStorage?this.variants.getAll():this.config.source==n.InitialVariants?this.config.initialVariants:void 0},e.prototype.secondaryVariants=function(){return this.config.source==n.LocalStorage?this.config.initialVariants:this.config.source==n.InitialVariants?this.variants.getAll():void 0},e.prototype.exposureInternal=function(e,t){if(null===(i=null===(n=null===(r=t.variant)||void 0===r?void 0:r.metadata)||void 0===n?void 0:n.trackExposure)||void 0===i||i){this.legacyExposureInternal(e,t.variant,t.source);var r,n,i,o,s,a,u,c,l,f={flag_key:e},d=eT(t.source);if(!d||t.hasDefaultVariant){(null===(o=t.variant)||void 0===o?void 0:o.expKey)&&(f.experiment_key=null===(s=t.variant)||void 0===s?void 0:s.expKey);var h=null===(a=t.variant)||void 0===a?void 0:a.metadata;d||(null==h?void 0:h.default)||((null===(u=t.variant)||void 0===u?void 0:u.key)?f.variant=t.variant.key:(null===(c=t.variant)||void 0===c?void 0:c.value)&&(f.variant=t.variant.value)),h&&(f.metadata=h),null===(l=this.exposureTrackingProvider)||void 0===l||l.track(f),this.integrationManager.track(f)}}},e.prototype.legacyExposureInternal=function(e,t,r){var n,i,o,s,a;if(this.analyticsProvider){var u=eD(this.addContext(this.getUser()),e,t,r);!eT(r)&&(null==t?void 0:t.value)?(null==t?void 0:t.value)&&(null===(s=null===(o=this.analyticsProvider)||void 0===o?void 0:o.setUserProperty)||void 0===s||s.call(o,u),null===(a=this.analyticsProvider)||void 0===a||a.track(u)):null===(i=null===(n=this.analyticsProvider)||void 0===n?void 0:n.unsetUserProperty)||void 0===i||i.call(n,u)}},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.config.debug&&console.debug.apply(console,eg([e],ev(t),!1))},e.prototype.shouldRetryFetch=function(e){return!(e instanceof et)||e.statusCode<400||e.statusCode>=500||429===e.statusCode},e.prototype.addPlugin=function(e){"integration"===e.type&&this.integrationManager.setIntegration(e)},e}(),eJ=function(){function e(e,t){var r,n,i;this.globalScope=es(),this.userAgent=void 0!==(null===(r=this.globalScope)||void 0===r?void 0:r.navigator)?null===(n=this.globalScope)||void 0===n?void 0:n.navigator.userAgent:void 0,this.ua=new el.UAParser(this.userAgent).getResult(),this.localStorage=new eN,this.sessionStorage=new eH,this.userProvider=e,this.apiKey=t,this.storageKey="EXP_".concat(null===(i=this.apiKey)||void 0===i?void 0:i.slice(0,10),"_DEFAULT_USER_PROVIDER")}return e.prototype.getUser=function(){var e,t,r,n,i,o=(null===(e=this.userProvider)||void 0===e?void 0:e.getUser())||{};return ef({language:this.getLanguage(),platform:"Web",os:this.getOs(this.ua),device_model:this.getDeviceModel(this.ua),device_category:null!==(r=null===(t=this.ua.device)||void 0===t?void 0:t.type)&&void 0!==r?r:"desktop",referring_url:null===(i=null===(n=this.globalScope)||void 0===n?void 0:n.document)||void 0===i?void 0:i.referrer.replace(/\/$/,""),cookie:this.getCookie(),browser:this.getBrowser(this.ua),landing_url:this.getLandingUrl(),first_seen:this.getFirstSeen(),url_param:this.getUrlParam(),user_agent:this.userAgent},o)},e.prototype.getLanguage=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},e.prototype.getOs=function(e){var t,r;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(r=e.browser)||void 0===r?void 0:r.major].filter(function(e){return null!=e}).join(" ")},e.prototype.getDeviceModel=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},e.prototype.getBrowser=function(e){var t,r=null===(t=e.browser)||void 0===t?void 0:t.name;return(null==r?void 0:r.includes("Chrom"))&&(r="Chrome"),(null==r?void 0:r.includes("Firefox"))&&(r="Firefox"),(null==r?void 0:r.includes("Safari"))&&(r="Safari"),(null==r?void 0:r.includes("Edge"))&&(r="Edge"),(null==r?void 0:r.includes("Opera"))&&(r="Opera"),r},e.prototype.getCookie=function(){var e,t,r,n,i;if(null===(t=null===(e=this.globalScope)||void 0===e?void 0:e.document)||void 0===t?void 0:t.cookie)return Object.fromEntries(null===(i=null===(n=null===(r=this.globalScope)||void 0===r?void 0:r.document)||void 0===n?void 0:n.cookie)||void 0===i?void 0:i.split("; ").map(function(e){return e.split("=")}))},e.prototype.getLandingUrl=function(){var e,t;try{var r=JSON.parse(this.sessionStorage.get(this.storageKey)||"{}");return r.landing_url||(r.landing_url=null===(t=null===(e=this.globalScope)||void 0===e?void 0:e.location)||void 0===t?void 0:t.href.replace(/\/$/,""),this.sessionStorage.put(this.storageKey,JSON.stringify(r))),r.landing_url}catch(e){return}},e.prototype.getFirstSeen=function(){try{var e=JSON.parse(this.localStorage.get(this.storageKey)||"{}");return e.first_seen||(e.first_seen=(Date.now()/1e3).toString(),this.localStorage.put(this.storageKey,JSON.stringify(e))),e.first_seen}catch(e){return}},e.prototype.getUrlParam=function(){if(this.globalScope){var e,t,r,n={};try{var i=new URL(this.globalScope.location.href);try{for(var o=ep(i.searchParams),s=o.next();!s.done;s=o.next()){var a=ev(s.value,2),u=a[0],c=a[1];n[u]=eg(eg([],ev(null!==(r=n[u])&&void 0!==r?r:[]),!1),ev(c.split(",")),!1)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}catch(e){return}return Object.entries(n).reduce(function(e,t){var r=ev(t,2),n=r[0],i=r[1];return e[n]=1==i.length?i[0]:i,e},{})}},e}();eo.experimentInstances={};var eQ=eo.experimentInstances,eW=function(e){return(null==e?void 0:e.instanceName)||eA.instanceName},eX=function(e,t){var r=eW(t),n=null==t?void 0:t.internalInstanceNameSuffix;return n?"".concat(r,".").concat(e,".").concat(n):"".concat(r,".").concat(e)},eZ=function(e,t,r){var n=eX(e,t),i=eQ[n];return i||(i=new eG(e,ef(ef({},t),{userProvider:new eJ(null==t?void 0:t.userProvider,e)})),r&&i.addPlugin(r()),eQ[n]=i),i},e0={initialize:function(e,t){return eZ(e,t)},initializeWithAmplitudeAnalytics:function(e,t){return eZ(e,t,function(){return new eS(e,ec.i.getInstance(eW(t)),1e4)})}};!function(){function e(){}e.prototype.getUser=function(){return{}},e.prototype.start=function(e){return ed(this,void 0,void 0,function(){return eh(this,function(e){return[2]})})},e.prototype.stop=function(){},e.prototype.setUser=function(e){},e.prototype.fetch=function(e){return ed(this,void 0,void 0,function(){return eh(this,function(e){return[2,this]})})},e.prototype.getUserProvider=function(){return null},e.prototype.setUserProvider=function(e){return this},e.prototype.variant=function(e,t){return eA.fallbackVariant},e.prototype.all=function(){return{}},e.prototype.clear=function(){},e.prototype.exposure=function(e){}}()},40100:function(e,t,r){var n;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",f="name",d="type",h="vendor",p="version",v="architecture",g="console",y="mobile",m="tablet",b="smarttv",w="wearable",S="embedded",E="Amazon",_="Apple",I="ASUS",T="BlackBerry",A="Browser",k="Chrome",x="Firefox",C="Google",O="Huawei",P="Microsoft",N="Motorola",R="Opera",U="Samsung",L="Sharp",M="Sony",H="Xiaomi",D="Zebra",F="Facebook",j=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===c&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},z=function(e,t){for(var r,n,i,a,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(i=0;i<h.length;i++)l=c[++n],typeof(a=h[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):void 0:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):void 0):this[a]=l||o;f+=2}},K=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(q(t[r][n],e))return"?"===r?o:r}else if(q(t[r],e))return"?"===r?o:r;return e},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+A],p],[/\bfocus\/([\w\.]+)/i],[p,[f,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[p,[f,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+A],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,F],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,k+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,B]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,U],[d,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,U],[d,y]],[/((ipod|iphone)\d+,\d+)/i],[l,[h,_],[d,y]],[/(ipad\d+,\d+)/i],[l,[h,_],[d,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,_],[d,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,_],[d,m]],[/(macintosh);/i],[l,[h,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,O],[d,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,O],[d,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,H],[d,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,H],[d,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,N],[d,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,N],[d,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[d,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,"LG"],[d,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,y]],[/(pixel c)\b/i],[l,[h,C],[d,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,C],[d,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[d,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[d,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,E],[d,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,E],[d,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,T],[d,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,I],[d,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,I],[d,y]],[/(nexus 9)/i],[l,[h,"HTC"],[d,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,L],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,m]],[/(surface duo)/i],[l,[h,P],[d,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,y]],[/(u304aa)/i],[l,[h,"AT&T"],[d,y]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,y]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,m]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,m]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,m]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,m]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,m]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,y]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,y]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,m]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,m]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,y]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,m]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,m]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,m]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,m]],[/(sprint) (\w+)/i],[h,l,[d,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,P],[d,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,D],[d,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,D],[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[l,[h,M],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,P],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,U],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[d,b]],[/(apple) ?tv/i],[h,[l,_+" TV"],[d,b]],[/crkey/i],[[l,k+"cast"],[h,C],[d,b]],[/droid.+aft(\w)( bui|\))/i],[l,[h,E],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,L],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[d,b]],[/(mitv-\w{5}) bui/i],[l,[h,H],[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,Y],[l,Y],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/((pebble))app/i],[h,l,[d,w]],[/droid.+; (glass) \d/i],[l,[h,C],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,D],[d,w]],[/(quest( 2)?)/i],[l,[h,F],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,K,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,K,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,k+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,p]]},J=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var r=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?j(G,t):G;return this.getBrowser=function(){var e,t={};return t[f]=o,t[p]=o,z.call(t,r,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[v]=o,z.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[l]=o,e[d]=o,z.call(e,r,n.device),e},this.getEngine=function(){var e={};return e[f]=o,e[p]=o,z.call(e,r,n.engine),e},this.getOS=function(){var e={};return e[f]=o,e[p]=o,z.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>350?Y(e,350):e,this},this.setUA(r),this};J.VERSION="0.7.33",J.BROWSER=V([f,p,"major"]),J.CPU=V([v]),J.DEVICE=V([l,h,d,g,y,b,m,w,S]),J.ENGINE=J.OS=V([f,p]),typeof t!==a?(e.exports&&(t=e.exports=J),t.UAParser=J):r.amdO?o!==(n=(function(){return J}).call(t,r,t,e))&&(e.exports=n):typeof i!==a&&(i.UAParser=J);var Q=typeof i!==a&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var W=new J;Q.ua=W.getResult(),Q.ua.get=function(){return W.getUA()},Q.ua.set=function(e){W.setUA(e);var t=W.getResult();for(var r in t)Q.ua[r]=t[r]}}}("object"==typeof window?window:this)},25511:(e,t,r)=>{"use strict";function n(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function i(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}r.d(t,{Hd:()=>v,n5:()=>p,qN:()=>s}),"function"==typeof SuppressedError&&SuppressedError;var o={exclude:[],include:[],logging:!0};function s(e,t){if(!["include","exclude","permissions_to_check","retries","timeout","logging"].includes(e))throw Error("Unknown option "+e);if(["include","exclude","permissions_to_check"].includes(e)&&(!Array.isArray(t)||!t.every(function(e){return"string"==typeof e})))throw Error("The value of the include, exclude and permissions_to_check must be an array of strings");if(["retries","timeout"].includes(e)&&"number"!=typeof t)throw Error("The value of retries must be a number");o[e]=t}var a={},u={timeout:"true"},c=function(e,t){"undefined"!=typeof window&&(a[e]=t)};function l(e){return e^=e>>>16,e=Math.imul(e,0x85ebca6b),e^=e>>>13,e=Math.imul(e,0xc2b2ae35),(e^=e>>>16)>>>0}var f=new Uint32Array([0x239b961b,0xab0e9789,0x38b34ae5,0xa1e38b93]);function d(e,t){return e<<t|e>>>32-t}function h(e,t){if(void 0===t&&(t=0),t=t?0|t:0,"string"==typeof e&&(n=e,e=(new TextEncoder).encode(n).buffer),!(e instanceof ArrayBuffer))throw TypeError("Expected key to be ArrayBuffer or string");var r,n,i=new Uint32Array([t,t,t,t]);return!function(e,t){for(var r=e.byteLength/16|0,n=new Uint32Array(e,0,4*r),i=0;i<r;i++){var o=n.subarray(4*i,4*(i+1));o[0]=Math.imul(o[0],f[0]),o[0]=d(o[0],15),o[0]=Math.imul(o[0],f[1]),t[0]=t[0]^o[0],t[0]=d(t[0],19),t[0]=t[0]+t[1],t[0]=Math.imul(t[0],5)+0x561ccd1b,o[1]=Math.imul(o[1],f[1]),o[1]=d(o[1],16),o[1]=Math.imul(o[1],f[2]),t[1]=t[1]^o[1],t[1]=d(t[1],17),t[1]=t[1]+t[2],t[1]=Math.imul(t[1],5)+0xbcaa747,o[2]=Math.imul(o[2],f[2]),o[2]=d(o[2],17),o[2]=Math.imul(o[2],f[3]),t[2]=t[2]^o[2],t[2]=d(t[2],15),t[2]=t[2]+t[3],t[2]=Math.imul(t[2],5)+0x96cd1c35,o[3]=Math.imul(o[3],f[3]),o[3]=d(o[3],18),o[3]=Math.imul(o[3],f[0]),t[3]=t[3]^o[3],t[3]=d(t[3],13),t[3]=t[3]+t[0],t[3]=Math.imul(t[3],5)+0x32ac3b17}}(e,i),function(e,t){var r=e.byteLength/16|0,n=e.byteLength%16,i=new Uint32Array(4),o=new Uint8Array(e,16*r,n);switch(n){case 15:i[3]=i[3]^o[14]<<16;case 14:i[3]=i[3]^o[13]<<8;case 13:i[3]=i[3]^o[12]<<0,i[3]=Math.imul(i[3],f[3]),i[3]=d(i[3],18),i[3]=Math.imul(i[3],f[0]),t[3]=t[3]^i[3];case 12:i[2]=i[2]^o[11]<<24;case 11:i[2]=i[2]^o[10]<<16;case 10:i[2]=i[2]^o[9]<<8;case 9:i[2]=i[2]^o[8]<<0,i[2]=Math.imul(i[2],f[2]),i[2]=d(i[2],17),i[2]=Math.imul(i[2],f[3]),t[2]=t[2]^i[2];case 8:i[1]=i[1]^o[7]<<24;case 7:i[1]=i[1]^o[6]<<16;case 6:i[1]=i[1]^o[5]<<8;case 5:i[1]=i[1]^o[4]<<0,i[1]=Math.imul(i[1],f[1]),i[1]=d(i[1],16),i[1]=Math.imul(i[1],f[2]),t[1]=t[1]^i[1];case 4:i[0]=i[0]^o[3]<<24;case 3:i[0]=i[0]^o[2]<<16;case 2:i[0]=i[0]^o[1]<<8;case 1:i[0]=i[0]^o[0]<<0,i[0]=Math.imul(i[0],f[0]),i[0]=d(i[0],15),i[0]=Math.imul(i[0],f[1]),t[0]=t[0]^i[0]}}(e,i),r=e,i[0]=i[0]^r.byteLength,i[1]=i[1]^r.byteLength,i[2]=i[2]^r.byteLength,i[3]=i[3]^r.byteLength,i[0]=i[0]+i[1]|0,i[0]=i[0]+i[2]|0,i[0]=i[0]+i[3]|0,i[1]=i[1]+i[0]|0,i[2]=i[2]+i[0]|0,i[3]=i[3]+i[0]|0,i[0]=l(i[0]),i[1]=l(i[1]),i[2]=l(i[2]),i[3]=l(i[3]),i[0]=i[0]+i[1]|0,i[0]=i[0]+i[2]|0,i[0]=i[0]+i[3]|0,i[1]=i[1]+i[0]|0,i[2]=i[2]+i[0]|0,i[3]=i[3]+i[0]|0,Array.from(new Uint8Array(i.buffer)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")}function p(){return n(this,void 0,void 0,function(){var e,t,r,n;return i(this,function(i){switch(i.label){case 0:var s,c;return i.trys.push([0,2,,3]),t=Object.keys(e=Object.fromEntries(Object.entries(a).filter(function(e){var t,r=e[0];return!(null===(t=null==o?void 0:o.exclude)||void 0===t?void 0:t.includes(r))}).filter(function(e){var t,r,n,i,s=e[0];return(null===(t=null==o?void 0:o.include)||void 0===t?void 0:t.some(function(e){return e.includes(".")}))?null===(r=null==o?void 0:o.include)||void 0===r?void 0:r.some(function(e){return e.startsWith(s)}):0===(null===(n=null==o?void 0:o.include)||void 0===n?void 0:n.length)||(null===(i=null==o?void 0:o.include)||void 0===i?void 0:i.includes(s))}).map(function(e){return[e[0],(0,e[1])()]}))),[4,(s=Object.values(e),c=(null==o?void 0:o.timeout)||1e3,Promise.all(s.map(function(e){return Promise.race([e,new Promise(function(e){setTimeout(function(){return e(u)},c)})])})))];case 1:return r=i.sent().filter(function(e){return void 0!==e}),n={},r.forEach(function(e,r){n[t[r]]=e}),[2,function e(t,r,n,i){void 0===i&&(i="");for(var o={},s=0,a=Object.entries(t);s<a.length;s++){var u=a[s];!function(t,s){var a=i+t+".";if("object"!=typeof s||Array.isArray(s)){var u=r.some(function(e){return a.startsWith(e)}),c=n.some(function(e){return a.startsWith(e)});u&&!c||(o[t]=s)}else{var l=e(s,r,n,a);Object.keys(l).length>0&&(o[t]=l)}}(u[0],u[1])}return o}(n,o.exclude||[],o.include||[],"")];case 2:throw i.sent();case 3:return[2]}})})}function v(e){return n(this,void 0,void 0,function(){var t,r;return i(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,p()];case 1:return r=h(JSON.stringify(t=s.sent())),.001>Math.random()&&o.logging&&function(e,t){n(this,void 0,void 0,function(){var r,n;return i(this,function(i){switch(i.label){case 0:if(r="https://logging.thumbmarkjs.com/v1/log",n={thumbmark:e,components:t,version:"0.20.0"},sessionStorage.getItem("_tmjs_l"))return[3,4];sessionStorage.setItem("_tmjs_l","1"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})];case 2:case 3:return i.sent(),[3,4];case 4:return[2]}})})}(r,t),e?[2,{hash:r.toString(),data:t}]:[2,r.toString()];case 2:throw s.sent();case 3:return[2]}})})}function g(){if("undefined"==typeof navigator)return{name:"unknown",version:"unknown"};for(var e=navigator.userAgent,t={edg:"Edge",opr:"Opera",samsung:"SamsungBrowser"},r=0,n=[/(?<name>Edge|Edg)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Chrome|Chromium|OPR|Opera|Vivaldi|Brave))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Firefox|Waterfox|Iceweasel|IceCat))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>Safari)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)?)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>samsung).*Version\/(?<version>\d+(?:\.\d+)?)/i];r<n.length;r++){var i=n[r],o=e.match(i);if(o&&o.groups)return{name:t[o.groups.name.toLowerCase()]||o.groups.name,version:o.groups.version}}return{name:"unknown",version:"unknown"}}function y(e,t,r){for(var n=[],i=0;i<e[0].data.length;i++){for(var o=[],s=0;s<e.length;s++)o.push(e[s].data[i]);n.push(function(e){if(0===e.length)return 0;for(var t={},r=0;r<e.length;r++)t[i=e[r]]=(t[i]||0)+1;var n=e[0];for(var i in t)t[i]>t[n]&&(n=parseInt(i,10));return n}(o))}return new ImageData(new Uint8ClampedArray(n),t,r)}["SamsungBrowser","Safari"].includes(g().name)||c("audio",function(){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,new Promise(function(e,t){try{var r=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,5e3,44100),n=r.createBufferSource(),i=r.createOscillator();i.frequency.value=1e3;var o,s=r.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.2,i.connect(s),s.connect(r.destination),i.start(),r.oncomplete=function(t){o=t.renderedBuffer.getChannelData(0),e({sampleHash:function(e){for(var t=0,r=0;r<e.length;++r)t+=Math.abs(e[r]);return t}(o),oscillator:i.type,maxChannels:r.destination.maxChannelCount,channelCountMode:n.channelCountMode})},r.startRendering()}catch(e){console.error("Error creating audio fingerprint:",e),t(e)}})]})})});var m="SamsungBrowser"!==g().name?1:3;"Firefox"!=g().name&&c("canvas",function(){return document.createElement("canvas").getContext("2d"),new Promise(function(e){e({commonImageDataHash:h(y(Array.from({length:m},function(){return function(){var e=document.createElement("canvas"),t=e.getContext("2d");if(!t)return new ImageData(1,1);e.width=280,e.height=20;var r=t.createLinearGradient(0,0,e.width,e.height);r.addColorStop(0,"red"),r.addColorStop(1/6,"orange"),r.addColorStop(2/6,"yellow"),r.addColorStop(.5,"green"),r.addColorStop(4/6,"blue"),r.addColorStop(5/6,"indigo"),r.addColorStop(1,"violet"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height);var n="Random Text WMwmil10Oo";return t.font="23.123px Arial",t.fillStyle="black",t.fillText(n,-5,15),t.fillStyle="rgba(0, 0, 255, 0.5)",t.fillText(n,-3.3,17.7),t.beginPath(),t.moveTo(0,0),t.lineTo(2*e.width/7,e.height),t.strokeStyle="white",t.lineWidth=2,t.stroke(),t.getImageData(0,0,e.width,e.height)}()}),280,20).data.toString()).toString()})})});var b,w=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],S=["monospace","sans-serif","serif"];function E(e,t){if(!e)throw Error("Canvas context not supported");return e.font,e.font="72px ".concat(t),e.measureText("WwMmLli0Oo").width}"Firefox"!=g().name&&c("fonts",function(){var e=this;return new Promise(function(t,r){try{!function(e){var t;n(this,void 0,void 0,function(){var r,n,o;return i(this,function(i){var s;switch(i.label){case 0:return document.body?[3,2]:[4,new Promise(function(e){return setTimeout(e,50,s)})];case 1:return i.sent(),[3,0];case 2:if((r=document.createElement("iframe")).setAttribute("frameBorder","0"),(n=r.style).setProperty("position","fixed"),n.setProperty("display","block","important"),n.setProperty("visibility","visible"),n.setProperty("border","0"),n.setProperty("opacity","0"),r.src="about:blank",document.body.appendChild(r),!(o=r.contentDocument||(null===(t=r.contentWindow)||void 0===t?void 0:t.document)))throw Error("Iframe document is not accessible");return e({iframe:o}),setTimeout(function(){document.body.removeChild(r)},0),[2]}})})}(function(r){var o=r.iframe;return n(e,void 0,void 0,function(){var e,r,n;return i(this,function(i){return e=o.createElement("canvas").getContext("2d"),r=S.map(function(t){return E(e,t)}),n={},w.forEach(function(t){var i=E(e,t);r.includes(i)||(n[t]=i)}),t(n),[2]})})})}catch(e){r({error:"unsupported"})}})}),c("hardware",function(){return new Promise(function(e,t){var r,n,i=void 0!==navigator.deviceMemory?navigator.deviceMemory:0,o=window.performance&&window.performance.memory?window.performance.memory:0;e({videocard:function(){var e,t=document.createElement("canvas"),r=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(r&&"getParameter"in r)try{var n=(r.getParameter(r.VENDOR)||"").toString(),i=(r.getParameter(r.RENDERER)||"").toString(),o={vendor:n,renderer:i,version:(r.getParameter(r.VERSION)||"").toString(),shadingLanguageVersion:(r.getParameter(r.SHADING_LANGUAGE_VERSION)||"").toString()};if(!i.length||!n.length){var s=r.getExtension("WEBGL_debug_renderer_info");if(s){var a=(r.getParameter(s.UNMASKED_VENDOR_WEBGL)||"").toString(),u=(r.getParameter(s.UNMASKED_RENDERER_WEBGL)||"").toString();a&&(o.vendorUnmasked=a),u&&(o.rendererUnmasked=u)}}return o}catch(e){}return"undefined"}(),architecture:(n=new Uint8Array((r=new Float32Array(1)).buffer),r[0]=1/0,r[0]=r[0]-r[0],n[3]),deviceMemory:i.toString()||"undefined",jsHeapSizeLimit:o.jsHeapSizeLimit||0})})}),c("locales",function(){return new Promise(function(e){e({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})}),c("permissions",function(){return n(this,void 0,void 0,function(){return i(this,function(e){return b=(null==o?void 0:o.permissions_to_check)||["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"],[2,Promise.all(Array.from({length:(null==o?void 0:o.retries)||3},function(){return function(){return n(this,void 0,void 0,function(){var e,t,r,n,o;return i(this,function(i){switch(i.label){case 0:e={},t=0,r=b,i.label=1;case 1:if(!(t<r.length))return[3,6];n=r[t],i.label=2;case 2:return i.trys.push([2,4,,5]),[4,navigator.permissions.query({name:n})];case 3:return o=i.sent(),e[n]=o.state.toString(),[3,5];case 4:return i.sent(),[3,5];case 5:return t++,[3,1];case 6:return[2,e]}})})}()})).then(function(e){var t;return t={},b.forEach(function(r){var n=function(e){if(0===e.length)return null;var t={};e.forEach(function(e){var r=String(e);t[r]=(t[r]||0)+1});var r=e[0],n=1;return Object.keys(t).forEach(function(e){t[e]>n&&(r=e,n=t[e])}),r}(e.map(function(e){return r in e?e[r]:void 0}).filter(function(e){return void 0!==e}));n&&(t[r]=n)}),t})]})})}),c("plugins",function(){var e=[];if(navigator.plugins)for(var t=0;t<navigator.plugins.length;t++){var r=navigator.plugins[t];e.push([r.name,r.filename,r.description].join("|"))}return new Promise(function(t){t({plugins:e})})}),c("screen",function(){return new Promise(function(e){var t,r;e({is_touchscreen:navigator.maxTouchPoints>0,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:(t=[],Object.keys(r={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]}).forEach(function(e){r[e].forEach(function(r){matchMedia("(".concat(e,": ").concat(r,")")).matches&&t.push("".concat(e,": ").concat(r))})}),t)})})}),c("system",function(){return new Promise(function(e){var t=g();e({platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency,browser:{name:t.name,version:t.version},applePayVersion:function(){if("https:"===window.location.protocol&&"function"==typeof window.ApplePaySession)try{for(var e=window.ApplePaySession.supportsVersion,t=15;t>0;t--)if(e(t))return t}catch(e){}return 0}()})})});var _,I="SamsungBrowser"!==g().name?1:3,T=null;c("webgl",function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){"undefined"!=typeof document&&((_=document.createElement("canvas")).width=200,_.height=100,T=_.getContext("webgl"));try{if(!T)throw Error("WebGL not supported");return e=Array.from({length:I},function(){return function(){try{if(!T)throw Error("WebGL not supported");var e=T.createShader(T.VERTEX_SHADER),t=T.createShader(T.FRAGMENT_SHADER);if(!e||!t)throw Error("Failed to create shaders");if(T.shaderSource(e,"\n          attribute vec2 position;\n          void main() {\n              gl_Position = vec4(position, 0.0, 1.0);\n          }\n      "),T.shaderSource(t,"\n          precision mediump float;\n          void main() {\n              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color\n          }\n      "),T.compileShader(e),!T.getShaderParameter(e,T.COMPILE_STATUS))throw Error("Vertex shader compilation failed: "+T.getShaderInfoLog(e));if(T.compileShader(t),!T.getShaderParameter(t,T.COMPILE_STATUS))throw Error("Fragment shader compilation failed: "+T.getShaderInfoLog(t));var r=T.createProgram();if(!r)throw Error("Failed to create shader program");if(T.attachShader(r,e),T.attachShader(r,t),T.linkProgram(r),!T.getProgramParameter(r,T.LINK_STATUS))throw Error("Shader program linking failed: "+T.getProgramInfoLog(r));T.useProgram(r);for(var n=new Float32Array(548),i=2*Math.PI/137,o=0;o<137;o++){var s=o*i;n[4*o]=0,n[4*o+1]=0,n[4*o+2]=Math.cos(s)*(_.width/2),n[4*o+3]=Math.sin(s)*(_.height/2)}var a=T.createBuffer();T.bindBuffer(T.ARRAY_BUFFER,a),T.bufferData(T.ARRAY_BUFFER,n,T.STATIC_DRAW);var u=T.getAttribLocation(r,"position");T.enableVertexAttribArray(u),T.vertexAttribPointer(u,2,T.FLOAT,!1,0,0),T.viewport(0,0,_.width,_.height),T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.drawArrays(T.LINES,0,274);var c=new Uint8ClampedArray(_.width*_.height*4);return T.readPixels(0,0,_.width,_.height,T.RGBA,T.UNSIGNED_BYTE,c),new ImageData(c,_.width,_.height)}catch(e){return new ImageData(1,1)}finally{T&&(T.bindBuffer(T.ARRAY_BUFFER,null),T.useProgram(null),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.clearColor(0,0,0,0))}}()}),[2,{commonImageHash:h(y(e,_.width,_.height).data.toString()).toString()}]}catch(e){return[2,{webgl:"unsupported"}]}return[2]})})});var A=function(e,t,r,n){for(var i=(r-t)/n,o=0,s=0;s<n;s++)o+=e(t+(s+.5)*i);return o*i};c("math",function(){return n(void 0,void 0,void 0,function(){return i(this,function(e){return[2,{acos:Math.acos(.5),asin:A(Math.asin,-1,1,97),atan:A(Math.atan,-1,1,97),cos:A(Math.cos,0,Math.PI,97),cosh:Math.cosh(9/7),e:Math.E,largeCos:.7639704044417283,largeSin:-.6452512852657808,largeTan:Math.tan(1e20),log:Math.log(1e3),pi:Math.PI,sin:A(Math.sin,-Math.PI,Math.PI,97),sinh:A(Math.sinh,-9/7,7/9,97),sqrt:Math.sqrt(2),tan:A(Math.tan,0,2*Math.PI,97),tanh:A(Math.tanh,-9/7,7/9,97)}]})})})},65505:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},91299:(e,t,r)=>{"use strict";var n=r(65505),i=r(83928),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(C(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t,r=0|h(e.length),n=s(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(i)return n?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,r){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=O[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=t,o=r,0===i&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function S(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function _(e,t,r,n,o){return t=+t,r>>>=0,o||E(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function I(e,t,r,n,o){return t=+t,r>>>=0,o||E(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=a,t.IS=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(C(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(a.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var h=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,x(A(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,x(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,x(k(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,x(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;S(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;S(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);S(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);S(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%u]}return this};var T=/[^+/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function k(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function x(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var O=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},83928:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?5960464477539062e-23:0,h=n?0:o-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*v}},48046:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(44799).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},83532:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(44799).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3181:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(44799).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},12150:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(44799).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8398:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(44799).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},74958:(e,t,r)=>{"use strict";var n=r(41922);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},48734:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(29244);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.$,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:a}=t,u=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let o=i(t)||i(n);return s[e][o]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,u,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...c}[t]):({...a,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}}]);